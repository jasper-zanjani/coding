
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://jasper-zanjani.github.io/coding/Python/">
      
      
        <link rel="prev" href="../Blockchain/solidity/">
      
      
        <link rel="next" href="pandas/">
      
      
      <link rel="icon" href="../img/logo.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.7">
    
    
      
        <title>Python - Coding</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../style/annotation-width.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Coding" class="md-header__button md-logo" aria-label="Coding" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Coding
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Python
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Coding" class="md-nav__button md-logo" aria-label="Coding" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    Coding
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Blockchain
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Blockchain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blockchain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blockchain/eth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethereum utilities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blockchain/solidity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Solidity
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Python
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Tasks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#virtual-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Virtual environments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Hashing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorators" class="md-nav__link">
    <span class="md-ellipsis">
      Decorators
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    <span class="md-ellipsis">
      Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Class methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formatting" class="md-nav__link">
    <span class="md-ellipsis">
      Formatting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-frameworks" class="md-nav__link">
    <span class="md-ellipsis">
      Web frameworks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web frameworks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django" class="md-nav__link">
    <span class="md-ellipsis">
      Django
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Django">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#template" class="md-nav__link">
    <span class="md-ellipsis">
      Template
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    <span class="md-ellipsis">
      Models
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fastapi" class="md-nav__link">
    <span class="md-ellipsis">
      FastAPI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    <span class="md-ellipsis">
      Testing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#doctest" class="md-nav__link">
    <span class="md-ellipsis">
      Doctest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytest" class="md-nav__link">
    <span class="md-ellipsis">
      pytest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pytest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixtures" class="md-nav__link">
    <span class="md-ellipsis">
      Fixtures
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unittest" class="md-nav__link">
    <span class="md-ellipsis">
      unittest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="unittest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assertions" class="md-nav__link">
    <span class="md-ellipsis">
      Assertions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixtures_1" class="md-nav__link">
    <span class="md-ellipsis">
      Fixtures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Integration tests
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasks_1" class="md-nav__link">
    <span class="md-ellipsis">
      Tasks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#argparse" class="md-nav__link">
    <span class="md-ellipsis">
      argparse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asyncio" class="md-nav__link">
    <span class="md-ellipsis">
      asyncio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#azurecosmos-material-language-python-material-github" class="md-nav__link">
    <span class="md-ellipsis">
      azure.cosmos :material-language-python: :material-github:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bullet" class="md-nav__link">
    <span class="md-ellipsis">
      bullet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#click" class="md-nav__link">
    <span class="md-ellipsis">
      click
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collections" class="md-nav__link">
    <span class="md-ellipsis">
      collections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#colorama" class="md-nav__link">
    <span class="md-ellipsis">
      colorama
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csv" class="md-nav__link">
    <span class="md-ellipsis">
      csv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datetime" class="md-nav__link">
    <span class="md-ellipsis">
      datetime
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discordpy" class="md-nav__link">
    <span class="md-ellipsis">
      discord.py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dotenv" class="md-nav__link">
    <span class="md-ellipsis">
      dotenv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functools" class="md-nav__link">
    <span class="md-ellipsis">
      functools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#glob" class="md-nav__link">
    <span class="md-ellipsis">
      glob
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#heapq" class="md-nav__link">
    <span class="md-ellipsis">
      heapq
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    <span class="md-ellipsis">
      http
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itertools" class="md-nav__link">
    <span class="md-ellipsis">
      itertools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jinja2" class="md-nav__link">
    <span class="md-ellipsis">
      Jinja2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#material-code-json-json" class="md-nav__link">
    <span class="md-ellipsis">
      :material-code-json: json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#npyscreen" class="md-nav__link">
    <span class="md-ellipsis">
      npyscreen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numpy" class="md-nav__link">
    <span class="md-ellipsis">
      numpy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optparse" class="md-nav__link">
    <span class="md-ellipsis">
      optparse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#os" class="md-nav__link">
    <span class="md-ellipsis">
      os
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pandas" class="md-nav__link">
    <span class="md-ellipsis">
      pandas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pathlib" class="md-nav__link">
    <span class="md-ellipsis">
      pathlib
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyinstaller" class="md-nav__link">
    <span class="md-ellipsis">
      pyinstaller
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pythonnet" class="md-nav__link">
    <span class="md-ellipsis">
      pythonnet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pythonnet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#random" class="md-nav__link">
    <span class="md-ellipsis">
      random
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scrapy" class="md-nav__link">
    <span class="md-ellipsis">
      scrapy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#socket" class="md-nav__link">
    <span class="md-ellipsis">
      socket
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite3" class="md-nav__link">
    <span class="md-ellipsis">
      sqlite3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subprocess" class="md-nav__link">
    <span class="md-ellipsis">
      subprocess
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sys" class="md-nav__link">
    <span class="md-ellipsis">
      sys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#termcolor" class="md-nav__link">
    <span class="md-ellipsis">
      termcolor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#threading" class="md-nav__link">
    <span class="md-ellipsis">
      threading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typing" class="md-nav__link">
    <span class="md-ellipsis">
      typing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urllib" class="md-nav__link">
    <span class="md-ellipsis">
      urllib
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weakref" class="md-nav__link">
    <span class="md-ellipsis">
      weakref
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#winrm" class="md-nav__link">
    <span class="md-ellipsis">
      winrm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yaml" class="md-nav__link">
    <span class="md-ellipsis">
      yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xml" class="md-nav__link">
    <span class="md-ellipsis">
      xml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#glossary" class="md-nav__link">
    <span class="md-ellipsis">
      Glossary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pandas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pandas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="yfinance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Yfinance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data science
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Data/altair/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Altair
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Rust
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Rust
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Cargo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cargo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Combinators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Combinators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Error/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Error handling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Crates
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            Crates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Actix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Clap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    clap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Failure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    failure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Gtk-rs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gtk-rs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Rnd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rnd
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Rocket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rocket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Rusqlite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rusqlite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Serde/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    serde
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Structopt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    structopt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/lazy_static/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lazy_static
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_7_11" >
        
          
          <label class="md-nav__link" for="__nav_4_7_11" id="__nav_4_7_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cursive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_7_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7_11">
            <span class="md-nav__icon md-icon"></span>
            Cursive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Cursive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Cursive/API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Cursive/Tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tasks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_7_12" >
        
          
          <label class="md-nav__link" for="__nav_4_7_12" id="__nav_4_7_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Diesel
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_7_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7_12">
            <span class="md-nav__icon md-icon"></span>
            Diesel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Diesel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Crates/Diesel/Tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tasks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tasks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            Tasks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boilerplate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Tasks/Hello-World/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hello World
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Tasks/Mathematics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mathematics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Tasks/Porting-grep/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    grep ports
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Tasks/To-Do/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    To-Do
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/Tasks/Transactions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transactions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="python">Python</h1>
<h2 id="tasks">Tasks</h2>
<div class="grid cards">
<ul>
<li>
<h4 id="virtual-environments">Virtual environments</h4>
<hr />
<div class="highlight"><span class="filename">pipenv</span><pre><span></span><code>pipenv<span class="w"> </span>--python<span class="w"> </span><span class="m">3</span>.6
</code></pre></div>
<div class="highlight"><span class="filename">venv</span><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>project
</code></pre></div>
<div class="highlight"><span class="filename">virtualenv</span><pre><span></span><code>virtualenv<span class="w"> </span>-p<span class="w"> </span>/usr/bin/python2<span class="w"> </span>project
</code></pre></div>
</li>
</ul>
</div>
<h4 id="hashing">Hashing</h4>
<p>A variety of hashing algorithms are available in various libraries.</p>
<div class="grid cards">
<ul>
<li>
<p>The standard library contains <a href="https://docs.python.org/3/library/hashlib.html"><strong>hashlib</strong></a>, which supports a variety of SHA algorithms including SHA3, as well as MD5, Blake and SHAKE (Secure Hashing Algorithm and KECCAK).</p>
<div class="highlight"><span class="filename">hashlib</span><pre><span></span><code><span class="kn">import</span> <span class="nn">hashlib</span>

<span class="n">data</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;Hello, World!&#39;</span>

<span class="c1"># The quickest way to use them is to use the named constructors, passing the text as binary.</span>
<span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="c1"># A generic constructor is also available with a less appealing workflow</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;sha256&#39;</span><span class="p">)</span>
<span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">h</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div>
</li>
<li>
<p>The <a href="https://pypi.python.org/pypi/pysha3"><strong>pysha3</strong></a> module also supports various algorithms, including SHA3, SHAKE, and Keccak.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sha3</span>

<span class="n">data</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;Hello, World!&#39;</span>

<span class="n">sha3</span><span class="o">.</span><span class="n">keccak_256</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div>
</li>
<li>
<p>The <a href="https://pypi.org/project/eth-utils/"><strong>eth-utils</strong></a> package also provides the <a href="https://wiki.rugdoc.io/docs/introduction-to-ethereums-keccak-256-algorithm/">Keccak-256</a> algorithm used by Ethereum.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">eth_utils</span>

<span class="n">data</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;Hello, World!&#39;</span>

<span class="n">eth_utils</span><span class="o">.</span><span class="n">keccak</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">hex</span><span class="p">())</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span>
</code></pre></div>
</li>
</ul>
</div>
<h2 id="decorators">Decorators</h2>
<p>Sources:</p>
<ul>
<li><a href="https://realpython.com/primer-on-python-decorators/">Primer on Python Decorators </a></li>
<li><a href="https://youtu.be/T8CQwGIsrx4">YouTube tutorial</a></li>
</ul>
<blockquote>
<p>A <strong>decorator</strong> is any function that accepts a function and returns a function.</p>
</blockquote>
<p>Decorators are one of the main ways that Python implements <strong>functional programming</strong> principles.</p>
<p>Functions are <strong>first-class objects</strong> and can be passed as parameters.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">logging</span>

<span class="k">def</span> <span class="nf">hello_wrapper</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
  <span class="n">func</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">hello_wrapper</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="nb">print</span><span class="p">)</span> <span class="c1"># Hello world</span>
<span class="n">hello_wrapper</span><span class="p">(</span><span class="s2">&quot;logs&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">)</span> <span class="c1"># WARNING:root:Hello logs</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;hello.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">hello_wrapper</span><span class="p">(</span><span class="s1">&#39;everyone!&#39;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">anagram</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
  <span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">t</span><span class="p">]</span>
  <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>

<span class="n">hello_wrapper</span><span class="p">(</span><span class="s1">&#39;Japushku&#39;</span><span class="p">,</span> <span class="n">anagram</span><span class="p">)</span> <span class="c1">#  eHoulhluaskpJ</span>
</code></pre></div>
<p>The function has to be passed as a reference, actually calling it will cause the wrapper function to attempt to execute the value <strong>returned</strong> by the inner function.</p>
<div class="highlight"><pre><span></span><code><span class="n">hello_wrapper</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="nb">print</span><span class="p">())</span> <span class="c1"># Error</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">outer</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hi from the outer function&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">inner</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello from the inner function&#39;</span><span class="p">)</span>
    <span class="n">inner</span><span class="p">()</span>
</code></pre></div>
<p>We can use the <strong><code>__name__</code></strong> attribute to access a passed function's name.
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Hello </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">hello</span><span class="p">(</span><span class="n">outer</span><span class="p">)</span> <span class="c1"># Hello outer</span>
</code></pre></div>
We can also return functions, which can then be invoked
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Hello </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">func</span>

<span class="n">hello</span><span class="p">(</span><span class="n">outer</span><span class="p">)()</span>  
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Hi from the outer function</span>
<span class="sd">Hello from the inner function</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="n">new_outer</span> <span class="o">=</span> <span class="n">hello</span><span class="p">(</span><span class="n">outer</span><span class="p">)</span>
<span class="n">new_outer</span> <span class="ow">is</span> <span class="n">outer</span> <span class="c1"># True</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Before </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
  <span class="n">func</span><span class="p">()</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;After </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">wrapper</span><span class="p">(</span><span class="n">outer</span><span class="p">)</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Before outer</span>
<span class="sd">Hi from the outer function</span>
<span class="sd">Hello from the inner function</span>
<span class="sd">After outer</span>
<span class="sd">&#39;&#39;&#39;</span>
</code></pre></div>
<p>The true decorator pattern appears here, where <code>wrapper</code> is called the <strong>decorator</strong> and <code>outer</code> has been <strong>decorated</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">_wrapper</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Before </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">func</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;After </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">_wrapper</span>

<span class="n">outer</span> <span class="o">=</span> <span class="n">wrapper</span><span class="p">(</span><span class="n">outer</span><span class="p">)</span>
</code></pre></div>
<p>But the usual syntax since Python 2.4 is to place the decorator on the line above the decorated function, preceded by <code>@</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@wrapper</span>
<span class="k">def</span> <span class="nf">outer</span><span class="p">():</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hi from the outer function&#39;</span><span class="p">)</span>
  <span class="k">def</span> <span class="nf">inner</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello from the inner function&#39;</span><span class="p">)</span>
  <span class="n">inner</span><span class="p">()</span>
</code></pre></div>
<p><strong>_wrapper</strong> here does not accept any positional arguments, so wrapping functions that take arguments will produce a TypeError.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@wrapper</span>
<span class="k">def</span> <span class="nf">say_hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">!&#39;</span><span class="p">)</span> <span class="c1"># error</span>
</code></pre></div>
<p>The solution is to incorporate <code>*args, **kwargs</code> into the definition of the inner function, as well as the invocation of the function passed in.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">_wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Before </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;After </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">_wrapper</span>
</code></pre></div>
<p>Returned values are not captured yet:</p>
<p><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">_wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Before </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;After </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>
  <span class="k">return</span> <span class="n">_wrapper</span>
</code></pre></div>
Inspecting the decorated function's <code>__name__</code> attribute reveals that it is still named <code>_wrapper</code>
<div class="highlight"><pre><span></span><code><span class="n">say_hello</span><span class="o">.</span><span class="vm">__name__</span> <span class="c1"># &#39;_wrapper&#39;</span>
</code></pre></div>
This is also true for other attributes, including docstring. <code>functools.wraps</code> is a decorator factory to reassign attributes to the wrapped function. This is considered superior to the <code>functools.update_wrapper</code> function which is also available.
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
  <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
  <span class="k">def</span> <span class="nf">_wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Before </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;After </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>
  <span class="k">return</span> <span class="n">_wrapper</span>
</code></pre></div>
This forms an ideal starting template for the creation of custom decorators.</p>
<h2 id="classes">Classes</h2>
<h3 id="properties">Properties</h3>
<p>In the <a href="https://docs.python.org/3/library/functions.html#property">Python documentation</a>, attributes accessed with accessor functions are called <strong>managed attributes</strong>, which makes the term equivalent to <strong>properties</strong> in C#.</p>
<p>Three methods can be defined using the <code>@property</code> decorator</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Constructor</label><label for="__tabbed_1_2">Getter</label><label for="__tabbed_1_3">Setter</label><label for="__tabbed_1_4">Deleter</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_price</span> <span class="o">=</span> <span class="n">price</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">price</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
  <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_price</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nd">@price</span><span class="o">.</span><span class="n">setter</span>
<span class="k">def</span> <span class="nf">price</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_price</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">new_price</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_price</span> <span class="o">=</span> <span class="n">new_price</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nd">@price</span><span class="o">.</span><span class="n">deleter</span>
<span class="k">def</span> <span class="nf">price</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_price</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="class-methods">Class methods</h3>
<p>The <strong><code>@classmethod</code></strong> decorator prevents the interpreter from passing in the instantiated object using <code>self</code>, rather the class itself is passed in as the <code>cls</code> argument. This means that the methods decorated as such must take not <code>self</code> as the first argument but <code>cls</code></p>
<div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">classmethod</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
  <span class="k">pass</span>
</code></pre></div>
<p>The <strong><code>@staticmethod</code></strong> decorator prevents the interpreter from passing any additional arguments whatsoever. The resulting method has no access to the object itself nor the class and functions like a procedurally defined function.</p>
<h2 id="formatting">Formatting</h2>
<p><code>flake8</code>, <code>black</code>, and <strong><code>yapf</code></strong> (Google) are CLI tools used to automatically format Python code.</p>
<h2 id="web-frameworks">Web frameworks</h2>
<h3 id="django">Django</h3>
<p>A typical Django <strong>project</strong> contains multiple <strong>apps</strong>, which are Python packages containing their own models, views, templates, and urls.</p>
<ul>
<li>A <a href="#models"><strong>model</strong></a> is the single definitive source of information about your data, and contains the essential fields and behaviors of the data you're storing. </li>
<li>
<p><strong>Migrations</strong> are necessary when Model classes are updated. And for projects sufficiently advanced, migration scripts must be developed for any such changes.</p>
</li>
<li>
<p><strong>Async Server Gateway Interface (ASGI)</strong> is the spiritual successor to, and superset of, <a href="#wsgi"><strong>WSGI</strong></a>. It implements the new Python standard for asynchronous web servers and applications, which resembles that of <a href="#sockets">websockets</a>. :point_right: <a href="https://youtu.be/IhF2JwyH664">From WSGI to ASGI</a></p>
</li>
<li><strong>WSGI</strong> is coupled tightly with the synchronous request-response model familiar from HTTP 1.1.</li>
</ul>
<p>URL patterns (stored in the <code>urlpatterns</code> list defined in the project-level <strong>urls.py</strong> file) can be parameterized. Here, the template <code>&lt;int:x&gt;</code> specifies an integer to be assigned to the view parameter <code>x</code>.
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">app.views</span> <span class="kn">import</span> <span class="n">my_view</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
  <span class="n">path</span><span class="p">(</span><span class="s1">&#39;/example/&lt;int:x&gt;&#39;</span><span class="p">,</span> <span class="n">my_view</span><span class="p">)</span>
<span class="p">]</span>
</code></pre></div>
<code>modelform_factory</code> can be used to automatically produce a webform from a Model class.
<div class="highlight"><pre><span></span><code><span class="c1"># views.py</span>

<span class="n">MeetingForm</span> <span class="o">=</span> <span class="n">modelform_factory</span><span class="p">(</span><span class="n">Meeting</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">[])</span>
</code></pre></div>
This can be placed into a template using the <code>{{ form }}</code> template tag. Note, a <code>{% csrf_token %}</code> template tag must also be present for a submit button to work.
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Plan</span> <span class="n">a</span> <span class="n">new</span> <span class="n">meeting</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">table</span><span class="o">&gt;</span>
    <span class="p">{{</span><span class="n">form</span><span class="p">}}</span>
  <span class="o">&lt;/</span><span class="n">table</span><span class="o">&gt;</span>
  <span class="p">{</span><span class="o">%</span> <span class="n">csrf_token</span> <span class="o">%</span><span class="p">}</span>
  <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span><span class="o">&gt;</span><span class="n">Create</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
</code></pre></div>
When the <code>modelform_factory</code> class has been defined, it is instantiated within the <strong>view function</strong>. This object exposes several methods:
- <strong>is_valid</strong> data validation is strongly recommended for any form input
- <strong>save</strong> imports the validated form data into the database
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">new</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
    <span class="n">form</span> <span class="o">=</span> <span class="n">MeetingForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
      <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
      <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s2">&quot;home&quot;</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">form</span> <span class="o">=</span> <span class="n">MeetingForm</span><span class="p">()</span>

  <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;meetings/new.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;form&quot;</span><span class="p">:</span> <span class="n">form</span><span class="p">})</span>
</code></pre></div></p>
<h4 id="template">Template</h4>
<p>Django <strong>templates</strong> are HTML files with additional markup to signify places where data can be dynamically inserted. The data used by the views file is called the <strong>template context</strong>.</p>
<p>Templates must be placed within the <strong>/templates</strong> folder within the app, and it is considered best practice to place templates within a nested subdirectory within it, e.g. <strong>/templates/app</strong>.</p>
<p>Django <strong>template tags</strong> are specified beween <code>{% .. %}</code> and allow for interpolation of data.</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
  <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">meetings</span> <span class="o">%</span><span class="p">}</span>

  <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</code></pre></div>
<p>URLs can be built by using the <code>url</code> template tag, specifying the name of a URL
<div class="highlight"><pre><span></span><code><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
  <span class="n">path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">home</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;home&#39;</span><span class="p">)</span>
<span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{</span><span class="si">% u</span><span class="s2">rl &#39;home&#39; %}&quot;</span><span class="o">&gt;</span><span class="n">Home</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</code></pre></div></p>
<h4 id="models">Models</h4>
<p>:point_right: <a href="https://docs.djangoproject.com/en/3.1/topics/db/models/">Models</a></p>
<p>In Django, a <strong>Model</strong> class is mapped to a database table. Each object is a record in that table.</p>
<p>Model objects expose several attributes and methods</p>
<p>Get all objects
<div class="highlight"><pre><span></span><code><span class="n">meetings</span> <span class="o">=</span> <span class="n">Meeting</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div>
Get count of objects in database
<div class="highlight"><pre><span></span><code><span class="n">count</span> <span class="o">=</span> <span class="n">Meeting</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</code></pre></div>
Query for a specific object
<div class="highlight"><pre><span></span><code><span class="n">meeting</span> <span class="o">=</span> <span class="n">Meeting</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="nb">id</span><span class="p">)</span>
</code></pre></div>
:point_right: <a href="https://docs.djangoproject.com/en/3.1/topics/http/shortcuts/#get-object-or-404"><code>get_object_or_404</code></a> may be better for most cases
<div class="highlight"><pre><span></span><code><span class="n">meeting</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Meeting</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="nb">id</span><span class="p">)</span>
</code></pre></div></p>
<p>Adding a new <strong>app</strong>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>manage.py<span class="w"> </span>startapp<span class="w"> </span>app
</code></pre></div>
Then add to <strong>settings.py</strong> in project directory
<div class="highlight"><pre><span></span><code><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
  <span class="c1"># ...</span>
  <span class="s1">&#39;app&#39;</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div></p>
<p>There appears to be much flexibility in the arrangement of input controls in a form.</p>
<p>So long as the Submit button is child to the <code>form</code> element, tasks are accepted in the To-Do app.</p>
<p>Per Bulma documentation, the <code>field</code> class is intended as a container for <code>label.label</code>s, <code>.control</code>s, and optional <code>p.help</code> text. <a href="https://bulma.io/documentation/form/general/#form-field">:point_right:</a></p>
<p>In contrast, <code>control</code> is a <strong>block</strong> container meant to enhance single form controls and can only contain <code>input</code>, <code>select</code>, <code>button</code>, or <code>icon</code> elements. <a href="https://bulma.io/documentation/form/general/#form-control">:point_right:</a>
<div class="highlight"><pre><span></span><code><span class="nt">form</span><span class="nc">.field</span>(<span class="na">method=</span><span class="s">&quot;POST&quot;</span><span class="err">,</span> <span class="na">action=</span><span class="s">&quot;/&quot;</span>)
<span class="w">    </span><span class="nt">label</span><span class="nc">.label</span> Enter something to do
<span class="w">    </span><span class="nc">.control</span>
<span class="w">        </span>| {{form.title}}
<span class="w">        </span>| {% csrf_token %}
<span class="w">    </span><span class="nt">button</span><span class="nc">.button.is-primary</span>(<span class="na">type=</span><span class="s">&quot;submit&quot;</span>) Submit
</code></pre></div></p>
<h3 id="fastapi">FastAPI</h3>
<p>Variables values can be taken from the route or from <strong>query parameters</strong> following a question mark.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Routes</label><label for="__tabbed_2_2">Query parameters</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">FastAPI</span>

<span class="n">starships</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>

<span class="nd">@starships</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/starships/</span><span class="si">{registry}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_starship</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;response&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">FastAPI</span>

<span class="n">starships</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>

<span class="nd">@starships</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_starship</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;world&quot;</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;response&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>FastAPI is notable for being able to use type hints to construct data models, which are much lighter than the object relational models used by other frameworks.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">FastAPI</label><label for="__tabbed_3_2">Django</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>

<span class="k">class</span> <span class="nc">Starship</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span> <span class="p">:</span> <span class="nb">str</span>
    <span class="n">registry</span> <span class="p">:</span> <span class="nb">str</span>
    <span class="n">crew</span> <span class="p">:</span> <span class="nb">int</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Starship</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">registry</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">crew</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
</div>
<p>Dogfood data can be incorporated by using the <strong>keyword argument unpacking</strong> or "double splat" operator (<strong><code>**</code></strong>)</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;USS Enterprise&quot;</span><span class="p">,</span> <span class="s2">&quot;registry&quot;</span> <span class="p">:</span> <span class="s2">&quot;NCC-1701&quot;</span><span class="p">,</span> <span class="s2">&quot;crew&quot;</span> <span class="p">:</span> <span class="mi">203</span><span class="p">}</span>
<span class="n">enterprise</span> <span class="o">=</span> <span class="n">Starship</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<p>POST method definitions then can use this newly defined class to validate posted data</p>
<div class="highlight"><pre><span></span><code><span class="n">db</span> <span class="o">=</span> <span class="p">[]</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/starships&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">create_starship</span><span class="p">(</span><span class="n">starship</span> <span class="p">:</span> <span class="n">Starship</span><span class="p">):</span>
    <span class="n">db</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">starship</span><span class="p">)</span>
</code></pre></div>
<p>FastAPI supports Jinja templates to serve HTML templates
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">fastapi</span>
<span class="kn">from</span> <span class="nn">fastapi.templating</span> <span class="kn">import</span> <span class="n">Jinja2Templates</span>

<span class="c1"># specifies the directory where templates are to be found</span>
<span class="n">templates</span> <span class="o">=</span> <span class="n">Jinja2Templates</span><span class="p">(</span><span class="s2">&quot;templates&quot;</span><span class="p">)</span> 

<span class="n">api</span> <span class="o">=</span> <span class="n">fastapi</span><span class="o">.</span><span class="n">APIRouter</span><span class="p">()</span>

<span class="nd">@api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">starlette</span><span class="o">.</span><span class="n">requests</span><span class="o">.</span><span class="n">Request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">templates</span><span class="o">.</span><span class="n">TemplateResponse</span><span class="p">(</span><span class="s2">&quot;helloworld.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;request&quot;</span> <span class="p">:</span> <span class="n">request</span><span class="p">})</span>
</code></pre></div></p>
<p>By default, FastAPI also exposes web applications at /docs where you can test out all the exposed API methods.</p>
<p>FastAPI integrates with <a href="https://github.com/florimondmanca/awesome-asgi#servers">ASGI servers</a> like Uvicorn and Hypercorn, which can run a specific web application by name from the command-line or from within the script:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Shell</label><label for="__tabbed_4_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>uvicorn<span class="w"> </span>main:starships<span class="w"> </span>--port<span class="w"> </span><span class="m">7000</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">uvicorn</span>

<span class="n">uvicorn</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">starships</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">7000</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="testing">Testing</h2>
<p><a href="https://docs.pytest.org/en/stable/">Pytest</a> is a popular <strong>testing framework</strong> preferred to <a href="#unittest">unittest</a> by many Python developers because it follows Pythonic conventions more closely.
In contrast to unittest's custom methods, pytest relies on the builtin <a href="https://docs.python.org/3/reference/simple_stmts.html?highlight=assert#the-assert-statement"><code>assert</code></a> statement.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">pytest</label><label for="__tabbed_5_2">unittest</label><label for="__tabbed_5_3">Class under test</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">phonebook</span> <span class="kn">import</span> <span class="n">PhoneBook</span>
<span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">phonebook</span><span class="p">():</span>
    <span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">()</span>
    <span class="k">yield</span> <span class="n">phonebook</span>
    <span class="n">phonebook</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_lookup_by_name</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span><span class="s2">&quot;1234&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s2">&quot;1234&quot;</span> <span class="o">==</span> <span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_phonebook_contains_all_names</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;1234&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s2">&quot;Bob&quot;</span> <span class="ow">in</span> <span class="n">phonebook</span><span class="o">.</span><span class="n">names</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_missing_name_raises_error</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
        <span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>pytest
</code></pre></div></p>
</div>
<div class="tabbed-block">
<p><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">unittest</span>

<span class="kn">from</span> <span class="nn">phonebook</span> <span class="kn">import</span> <span class="n">PhoneBook</span>


<span class="k">class</span> <span class="nc">PhoneBookTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_lookup_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;12345&quot;</span><span class="p">)</span>
        <span class="n">number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s2">&quot;12345&quot;</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_missing_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;missing&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_empty_phonebook_is_consistent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span><span class="o">.</span><span class="n">is_consistent</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>unittest
</code></pre></div></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span>

<span class="k">class</span> <span class="nc">PhoneBook</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cache_directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numbers</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cache_directory</span><span class="p">,</span> <span class="s2">&quot;phonebook.txt&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numbers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">number</span>

    <span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numbers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">is_consistent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numbers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="doctest">Doctest</h3>
<p>A <strong>doctest</strong> is a docstring containing what looks like interactive Python sessions. <sup><a href="https://docs.python.org/3/library/doctest.html" title="doctest - Test interactive Python examples">Python Docs</a></sup>
<div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Return the factorial of n, an exact integer &gt;= 0.</span>

<span class="sd">&gt;&gt;&gt; [factorial(n) for n in range(6)]</span>
<span class="sd">[1, 1, 2, 6, 24, 120]</span>
<span class="sd">&gt;&gt;&gt; factorial(30)</span>
<span class="sd">265252859812191058636308480000000</span>
<span class="sd">&gt;&gt;&gt; factorial(-1)</span>
<span class="sd">Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">ValueError: n must be &gt;= 0</span>

<span class="sd">Factorials of floats are OK, but the float must be an exact integer:</span>
<span class="sd">&gt;&gt;&gt; factorial(30.1)</span>
<span class="sd">Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">ValueError: n must be exact integer</span>
<span class="sd">&gt;&gt;&gt; factorial(30.0)</span>
<span class="sd">265252859812191058636308480000000</span>

<span class="sd">It must also not be ridiculously large:</span>
<span class="sd">&gt;&gt;&gt; factorial(1e100)</span>
<span class="sd">Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">OverflowError: n too large</span>
<span class="sd">&quot;&quot;&quot;</span>
</code></pre></div>
This can then be run 
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="kn">import</span> <span class="nn">doctest</span>
  <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">()</span>
</code></pre></div></p>
<h3 id="pytest">pytest</h3>
<p><strong>PyTest</strong> relies on the built-in <code>assert</code> statement.</p>
<h4 id="fixtures">Fixtures</h4>
<p>The <strong><code>@pytest.fixture</code></strong> decorator facilitiates the creation of test fixtures.
The fixture function's name is used as argument to the test case, and the value returned can be used by the logic within. 
(<a href="https://app.pluralsight.com/course-player?clipId=6d87a3a0-2869-419b-ac1d-abbd9b076c98">src</a>)</p>
<p>Any clean-up logic can be invoked in this fixture as well by replacing <code>return</code> with <code>yield</code>.
Pytest also provides its own <strong><code>tmpdir</code></strong> test fixture for temporary directories. (<a href="https://app.pluralsight.com/course-player?clipId=8a53dec3-dabb-4b5a-9a6f-0bfb696db0da">src</a>)</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Before</label><label for="__tabbed_6_2">After</label><label for="__tabbed_6_3">tmpdir</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">phonebook</span> <span class="kn">import</span> <span class="n">PhoneBook</span>
<span class="kn">import</span> <span class="nn">pytest</span>







<span class="k">def</span> <span class="nf">test_lookup_by_name</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="n">phonebook</span><span class="o">=</span><span class="n">PhoneBook</span><span class="p">()</span>
    <span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span><span class="s2">&quot;1234&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s2">&quot;1234&quot;</span> <span class="o">==</span> <span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_phonebook_contains_all_names</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">()</span>
    <span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;1234&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s2">&quot;Bob&quot;</span> <span class="ow">in</span> <span class="n">phonebook</span><span class="o">.</span><span class="n">names</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_missing_name_raises_error</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">()</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
        <span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">phonebook</span> <span class="kn">import</span> <span class="n">PhoneBook</span>
<span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">phonebook</span><span class="p">():</span>
    <span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">()</span>
    <span class="k">yield</span> <span class="n">phonebook</span>
    <span class="n">phonebook</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_lookup_by_name</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="c1"># phonebook = PhoneBook()</span>
    <span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span><span class="s2">&quot;1234&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s2">&quot;1234&quot;</span> <span class="o">==</span> <span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_phonebook_contains_all_names</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="c1"># phonebook = PhoneBook()</span>
    <span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;1234&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s2">&quot;Bob&quot;</span> <span class="ow">in</span> <span class="n">phonebook</span><span class="o">.</span><span class="n">names</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_missing_name_raises_error</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="c1"># phonebook = PhoneBook()</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
        <span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">phonebook</span> <span class="kn">import</span> <span class="n">PhoneBook</span>
<span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">phonebook</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">):</span>
    <span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">phonebook</span>


<span class="k">def</span> <span class="nf">test_lookup_by_name</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="c1"># phonebook = PhoneBook()</span>
    <span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span><span class="s2">&quot;1234&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s2">&quot;1234&quot;</span> <span class="o">==</span> <span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_phonebook_contains_all_names</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="c1"># phonebook = PhoneBook()</span>
    <span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;1234&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s2">&quot;Bob&quot;</span> <span class="ow">in</span> <span class="n">phonebook</span><span class="o">.</span><span class="n">names</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_missing_name_raises_error</span><span class="p">(</span><span class="n">phonebook</span><span class="p">):</span>
    <span class="c1"># phonebook = PhoneBook()</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
        <span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="unittest"><a href="https://docs.python.org/3.8/library/unittest.html">unittest</a></h3>
<p><strong>unittest</strong> is a testing framework built into Python's Standard Library that was based on JUnit. 
unittest came out in 2001, when JUnit was being ported and adapted to many languages.
Collectively, these frameworks were referred to as the <strong>xUnit family</strong>.
unittest's method names do not follow Python conventions because it predates the PEP-8 naming standard.</p>
<p>unittest allows you to create test classes that inherit from <strong><code>TestCase</code></strong>.</p>
<h4 id="assertions">Assertions</h4>
<p>Assertions are implemented in individual methods of the TestCase subclass through unittest methods like <code>assertEqual</code> and <code>assertRaises</code>, etc.
Notably, TestCase subclasses must <strong>not</strong> have an <code>__init__()</code> constructor method defined.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_lookup_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">()</span>
    <span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;12345&quot;</span><span class="p">)</span>
    <span class="n">number</span> <span class="o">=</span> <span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s2">&quot;12345&quot;</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>
</code></pre></div>
<p><strong><code>assertRaises</code></strong> must be placed in a context manager.
Here, the test case will run the code within the <code>with</code> block and check to make sure it raises the specified exception: <code>KeyError</code>: (<a href="https://app.pluralsight.com/course-player?clipId=fa55af11-913d-4171-a2b0-db9f75f249e1">src</a>)</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_missing_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">fleet</span> <span class="o">=</span> <span class="n">Fleet</span><span class="p">()</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
        <span class="n">fleet</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;bla&quot;</span><span class="p">)</span>
</code></pre></div>
<h4 id="fixtures_1">Fixtures</h4>
<p><strong><code>setUp</code></strong> is run before every test method, allowing a <strong>test fixture</strong> to be created to avoid repetitive code.
<strong><code>tearDown</code></strong> is called after every method, which allows these resources to be released, even if the test case raises an exception. However, if it is <code>setUp</code> that raises the exception, then neither the test case nor <code>tearDown</code> will run. (<a href="https://app.pluralsight.com/course-player?clipId=efd71803-d18f-4860-baca-d94bf935765a">src</a>, <a href="https://app.pluralsight.com/course-player?clipId=efd71803-d18f-4860-baca-d94bf935765a">src</a>)</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Before</label><label for="__tabbed_7_2">After</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">unittest</span>

<span class="kn">from</span> <span class="nn">phonebook</span> <span class="kn">import</span> <span class="n">PhoneBook</span>


<span class="k">class</span> <span class="nc">PhoneBookTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>






    <span class="k">def</span> <span class="nf">test_lookup_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">()</span>
        <span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;12345&quot;</span><span class="p">)</span>
        <span class="n">number</span> <span class="o">=</span> <span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s2">&quot;12345&quot;</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_missing_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;missing&quot;</span><span class="p">)</span>

    <span class="nd">@unittest</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="s2">&quot;WIP&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_empty_phonebook_is_consistent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">phonebook</span><span class="o">.</span><span class="n">is_consistent</span><span class="p">())</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">unittest</span>

<span class="kn">from</span> <span class="nn">phonebook</span> <span class="kn">import</span> <span class="n">PhoneBook</span>


<span class="k">class</span> <span class="nc">PhoneBookTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">test_lookup_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># phonebook = PhoneBook()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;12345&quot;</span><span class="p">)</span>
        <span class="n">number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s2">&quot;12345&quot;</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_missing_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># phonebook = PhoneBook()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s2">&quot;missing&quot;</span><span class="p">)</span>

    <span class="nd">@unittest</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="s2">&quot;WIP&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_empty_phonebook_is_consistent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># phonebook = PhoneBook()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">phonebook</span><span class="o">.</span><span class="n">is_consistent</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
</div>
<p>The <strong><code>@unittest.skip</code></strong> decorator will tell the test runner to skip the decorated test case (<a href="https://app.pluralsight.com/course-player?clipId=efd71803-d18f-4860-baca-d94bf935765a">src</a>)</p>
<div class="highlight"><pre><span></span><code><span class="nd">@unittest</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="s2">&quot;WIP&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_empty_phonebook_is_consistent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">phonebook</span> <span class="o">=</span> <span class="n">PhoneBook</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">phonebook</span><span class="o">.</span><span class="n">is_consistent</span><span class="p">())</span>
</code></pre></div>
<p>The <strong>command line entry point</strong> is made with a call to <code>unittest.main()</code>, which executes the tests.
(<a href="https://realpython.com/python-testing/#how-to-use-unittest-and-flask" title="Getting Started With Testing in Python">src</a>)</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">unittest</span>

<span class="kn">from</span> <span class="nn">my_sum</span> <span class="kn">import</span> <span class="nb">sum</span>

<span class="k">class</span> <span class="nc">TestSum</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">test_list_int</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test that it can sum a list of integers</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h4 id="integration-tests">Integration tests</h4>
<p>By convention, tests are put in their own directory as sibling to the main module ( in order to be able to import it ).
Integration and unit tests should be organized separately.</p>
<div class="highlight"><pre><span></span><code>.
 project
  __init__.py
 tests
     integration
     unit
</code></pre></div>
<p>Run all integration tests within specified directory.
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>unittest<span class="w"> </span>discover<span class="w"> </span>-s<span class="w"> </span>tests/integration
</code></pre></div></p>
<h2 id="tasks_1">Tasks</h2>
<p>Deserialize</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">YAML</label><label for="__tabbed_8_2">:material-code-json: JSON</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">yaml</span>


<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./starships.yaml&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="hll">    <span class="n">starships</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">json</span>


<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./starships.json&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p>Serialize</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">YAML</label><label for="__tabbed_9_2">:material-code-json: JSON</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">yaml</span>


<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./starships.yaml&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">starships</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">json</span>


<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/starships.json&#39;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="modules">Modules</h2>
<p>When learning unfamiliar packages and importing them in a demonstration script, care must be taken that the 
demonstration script does not have the same name as the package being studied. 
If so, attempting to import the package while in an interpreter within that directory will cause the interpreter to try 
importing the incomplete script and not the package.</p>
<p>When running a Python interpreter within this directory, the files "calc" and "main" can be imported as modules by
specifying their names with no file extension.
<div class="highlight"><pre><span></span><code>. 
 calc.py 
 main.py
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">calc</span> <span class="c1"># No errors</span>
<span class="kn">import</span> <span class="nn">main</span> <span class="c1"># No errors</span>
</code></pre></div>
Specifying the full filename including extension does produce an error
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">calc.py</span> <span class="c1"># Error</span>
<span class="kn">import</span> <span class="nn">main.py</span> <span class="c1"># Error</span>
</code></pre></div></p>
<h3 id="argparse">argparse</h3>
<p>The <code>ArgumentParser</code> object exposes an attribute that contains the value passed in from the command-line. This attribute takes its identifier from the <code>dest</code> keyword argument when invoking the <code>add_argument()</code> method.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">Python</label><label for="__tabbed_10_2">Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">argparse</span>

<span class="k">def</span> <span class="nf">get_args</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="n">dest</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">get_args</span><span class="p">()</span><span class="o">.</span><span class="n">bar</span>
</code></pre></div>
<p>The optional value assigned to <code>description</code> will be displayed when running the script with <strong>-h</strong>/<strong>--help</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="n">helptext</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>usage: argparse_practice.py [-h] [-f bar]

optional arguments:
  -h, --help         show this help message and exit
  -f bar, --foo bar
</code></pre></div>
</div>
</div>
</div>
<p>A help string can be provided as a keyword argument to <strong><code>help</code></strong>.
<div class="highlight"><pre><span></span><code><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p>A data type can be specified as an argument to <strong><code>type</code></strong>:
<div class="highlight"><pre><span></span><code><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
</code></pre></div>
An alternative name for the <code>dest</code> value on the command-line (but which does not affect the identifier of the attribute on which the value is exposed) can be specified by <strong><code>metavar</code></strong>.
<div class="highlight"><pre><span></span><code><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p>The examples above used <strong>positional parameters</strong> (i.e. an argument). A <strong>named parameter</strong> (an option or flag, i.e. <code>-h</code>, <code>--help</code>, etc) requires <kbd>-</kbd> at the beginning of the string and values from the command-line to be passed after <code>=</code> or <kbd>Space</kbd>. <code>add_argument</code> supports the <strong><code>required</code></strong> keyword argument for named parameters. Note that use of the option on the command-line at all requires an argument to it, even if the option is not required itself.
<div class="highlight"><pre><span></span><code><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-r&#39;</span><span class="p">,</span><span class="s1">&#39;--radius&#39;</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span><span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">help</span><span class="o">=</span><span class="s1">&#39;radius&#39;</span><span class="p">)</span>
</code></pre></div></p>
<p>A <strong>flag option</strong> can be created by defining an <strong><code>action</code></strong> keyword parameter. (<a href="# &quot;Tiny Python Projects p. 391">src</a>)
<div class="highlight"><pre><span></span><code><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="s1">&#39;--on&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;A boolean flag&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">)</span>
</code></pre></div></p>
<p><strong><code>add_mutually_exclusive_group()</code></strong> can be used to add a group of mutually exclusive arguments. In this case, <code>add_argument()</code> is invoked on the new object returned by this method and not directly on the <code>ArgumentParser()</code> object.
<div class="highlight"><pre><span></span><code><span class="n">g</span><span class="o">=</span><span class="n">ArgumentParser</span><span class="o">.</span><span class="n">add_mutually_exclusive_group</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span><span class="s2">&quot;--verbose&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span><span class="s2">&quot;--quiet&quot;</span><span class="p">,</span><span class="s2">&quot;-s&quot;</span><span class="p">,</span><span class="s2">&quot;--silent&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span><span class="n">help</span><span class="o">=</span><span class="s1">&#39;quiet/silent mode&#39;</span><span class="p">)</span>
</code></pre></div></p>
<p>User input can be restricted by providing a value for <strong><code>choices</code></strong>, which will accept any iterable value including lists, ranges, and strings:
<div class="highlight"><pre><span></span><code><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span><span class="s2">&quot;baz&quot;</span><span class="p">])</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="s1">&#39;Hello, world!&#39;</span><span class="p">)</span> <span class="c1"># equivalent to [&#39;H&#39;,&#39;e&#39;, ...]</span>
</code></pre></div></p>
<p>Sources</p>
<ul>
<li><a href="https://docs.python.org/3/library/argparse.html">:material-language-python: Python documentation</a></li>
</ul>
<h3 id="asyncio">asyncio</h3>
<p>The <code>asyncio</code> module offers an implementation of <strong>coroutines</strong> which allow tasks to control context switching to implement <a href="Concurrency"><strong>concurrency</strong></a>.</p>
<p>The <strong><code>await</code></strong> keyword is a checkpoint that indicates where it is safe for the process to go to another coroutine, allowing total control over <strong>context switching</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">func1</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">counter</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">counter</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">func2</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">counter</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">counter</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="n">func1</span><span class="p">(),</span> <span class="n">func2</span><span class="p">())</span>
<span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">run_forever</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_users</span><span class="p">():</span>
    <span class="n">users</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">do_query</span><span class="p">(</span><span class="s1">&#39;select * from users&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">users</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">get_users</span><span class="p">())</span>
    <span class="c1"># ...</span>
    <span class="k">await</span> <span class="n">task</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></div>
<p>Allows the joining of multiple threads.
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_users</span><span class="p">():</span>
    <span class="n">users</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">do_query</span><span class="p">(</span><span class="s1">&#39;select * from users&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">users</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
        <span class="n">get_users</span><span class="p">(),</span>
        <span class="n">get_users</span><span class="p">(),</span>
    <span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_users</span><span class="p">():</span>
    <span class="n">users</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">do_query</span><span class="p">(</span><span class="s1">&#39;select * from users&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">users</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">get_users</span><span class="p">())</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">users</span> <span class="o">=</span> <span class="k">await</span> <span class="n">get_users</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">users</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></div>
<p>Sources:</p>
<ul>
<li><a href="https://youtu.be/F19R_M4Nay4">Demistifying Python's Async and Await keywords</a></li>
</ul>
<h3 id="azurecosmos-material-language-python-material-github">azure.cosmos <a href="https://pypi.org/project/azure-cosmos/">:material-language-python:</a> <a href="https://github.com/Azure/azure-sdk-for-python">:material-github:</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">azure.cosmos</span>
<span class="kn">from</span> <span class="nn">azure.cosmos.partition_key</span> <span class="kn">import</span> <span class="n">PartitionKey</span>

<span class="n">database</span> <span class="o">=</span> <span class="n">cosmos_client</span><span class="o">.</span><span class="n">create_database</span><span class="p">(</span><span class="s1">&#39;RetailDemo&#39;</span><span class="p">)</span>
<span class="n">container</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">create_container</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;WebsiteData&#39;</span><span class="p">,</span> <span class="n">partition_key</span><span class="o">=</span><span class="n">PartitionKey</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;/CartID&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Container WebsiteData created&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="bullet"><a href="https://github.com/bchao1/bullet">bullet</a></h3>
<p><strong><code>bullet.Check()</code></strong> implements a checkbox widget:
<div class="highlight"><pre><span></span><code><span class="n">cli</span> <span class="o">=</span> <span class="n">bullet</span><span class="o">.</span><span class="n">Check</span><span class="p">(</span><span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;Choose from the following items: &quot;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;pepperoni&#39;</span><span class="p">,</span><span class="s1">&#39;sausage&#39;</span><span class="p">,</span><span class="s1">&#39;green peppers&#39;</span><span class="p">])</span>
</code></pre></div>
<strong><code>bullet.Bullet()</code></strong> implements a radio button widget:
<div class="highlight"><pre><span></span><code><span class="n">cli</span> <span class="o">=</span> <span class="n">bullet</span><span class="o">.</span><span class="n">Bullet</span><span class="p">(</span><span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;Choose from the following items: &quot;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="s1">&#39;white&#39;</span><span class="p">,</span><span class="s1">&#39;blue&#39;</span><span class="p">])</span>
</code></pre></div>
The resulting object then exposes a <strong><code>launch()</code></strong> method.
<div class="highlight"><pre><span></span><code><span class="n">cli</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</code></pre></div></p>
<h3 id="click">click</h3>
<p><code>Click</code> modifies functions using decorators whch determine the command-line arguments elements that the decorated function can see.</p>
<p>Hello World program. <sup><a href="https://click.palletsprojects.com/en/7.x/quickstart/#screencast-and-examples" title="Quickstart - Click Documentation">Click</a>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">click</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
  <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;Hello World!&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">=</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">hello</span><span class="p">()</span>
</code></pre></div>
Modified Hello World
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">click</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s1">&#39;--count&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;number of greetings&#39;</span><span class="p">)</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">argument</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">):</span>
    <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;Hello </span><span class="si">%s</span><span class="s1">!&#39;</span> <span class="o">%</span> <span class="n">name</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">hello</span><span class="p">()</span>
</code></pre></div>
Developing the pdfcropper tool; passing <code>--examref</code> changes the numbers.
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">click</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s1">&#39;--examref&#39;</span><span class="p">,</span><span class="n">is_flag</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">examref</span><span class="p">):</span>
  <span class="n">top</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
  <span class="k">if</span> <span class="n">examref</span><span class="p">:</span>
    <span class="n">top</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span>
  <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Your numbers are: top (</span><span class="si">{</span><span class="n">top</span><span class="si">}</span><span class="s1">), right </span><span class="si">{</span><span class="n">right</span><span class="si">}</span><span class="s1">, bottom </span><span class="si">{</span><span class="n">bottom</span><span class="si">}</span><span class="s1">, left </span><span class="si">{</span><span class="n">left</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">hello</span><span class="p">()</span>
</code></pre></div>
<strong>@click.group()</strong> decorators allow nested command groups to be created.
There are two ways of adding commands to command <strong>groups</strong>:
- Using the group as a decorator, whereby the name of the function decorated by <code>@click.group()</code> is then used to 
decorate commands:
<div class="highlight"><pre><span></span><code><span class="nd">@click</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">group1</span><span class="p">()</span>
  <span class="k">pass</span>

<span class="nd">@group1</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">command1</span><span class="p">():</span>
  <span class="k">pass</span>
</code></pre></div>
- Using the <code>add_command</code> method
<div class="highlight"><pre><span></span><code><span class="nd">@click</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">group1</span><span class="p">()</span>
  <span class="k">pass</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">command1</span><span class="p">():</span>
  <span class="k">pass</span>

<span class="n">group1</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">command1</span><span class="p">)</span>
</code></pre></div>
For example, to imitate the nested commands available in <code>netsh</code>:
<div class="highlight"><pre><span></span><code>netsh interface ip
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nd">@click</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">interface</span><span class="p">():</span>
  <span class="k">pass</span>

<span class="nd">@interface</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s1">&#39;ip&#39;</span><span class="p">)</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">argument</span><span class="p">(</span><span class="s1">&#39;args&#39;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># All arguments passed in as tuple &quot;args&quot;</span>
<span class="k">def</span> <span class="nf">interface_ip</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
  <span class="k">pass</span>
</code></pre></div></p>
<p>Docstrings of groups and commands show up as progressive help messages when they are invoked from the command-line.</p>
<p><div class="highlight"><pre><span></span><code><span class="nd">@click</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">cli</span><span class="p">():</span>
  <span class="k">pass</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">initdb</span><span class="p">():</span>
  <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;Initialized the database&#39;</span><span class="p">)</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">dropdb</span><span class="p">():</span>
  <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;Dropped the database&#39;</span><span class="p">)</span>

<span class="n">cli</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">initdb</span><span class="p">)</span>
<span class="n">cli</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">dropdb</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">cli</span><span class="p">()</span>
</code></pre></div>
<strong>CommandCollection</strong> flattens the structure of grouped commands so that the commands in all the contained groups
appear in a single tier. It also becomes the entry-point of the script.</p>
<p>Example from <a href="https://github.com/limbov8/fire/blob/30c7c5abef35d203ad1217093623edc5b9bbc922/bin/fire">GitHub</a>:
<div class="highlight"><pre><span></span><code><span class="c1"># Three command groups cli1, cli2, and cli3 declared:</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">cli1</span><span class="p">():</span>
  <span class="k">pass</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">cli2</span><span class="p">():</span>
  <span class="k">pass</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">cli3</span><span class="p">():</span>
  <span class="k">pass</span>

<span class="c1"># Three commands each belonging to a separate group</span>

<span class="nd">@cli1</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">server</span><span class="p">():</span>
  <span class="k">pass</span>

<span class="nd">@cli2</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">console</span><span class="p">():</span>
  <span class="k">pass</span>

<span class="nd">@cli3</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">routes</span><span class="p">():</span>
  <span class="k">pass</span>

<span class="c1"># CommandCollection flattens the grouped commands such that all the commands are available at once:</span>

<span class="n">cli</span> <span class="o">=</span> <span class="n">click</span><span class="o">.</span><span class="n">CommandCollection</span><span class="p">(</span><span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="n">cli1</span><span class="p">,</span><span class="n">cli2</span><span class="p">,</span><span class="n">cli3</span><span class="p">])</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">cli</span><span class="p">()</span>
</code></pre></div></p>
<h3 id="collections">collections</h3>
<ul>
<li><strong>abc</strong> provides <code>Mapping</code> and <code>MutableMapping</code> ABCs to formalize the interfaces of dict and similar types</li>
<li><strong>ChainMap</strong> Lookups are performed on each mapping in order</li>
<li><strong>Counter</strong> Holds an integer count for each key; each new key adds to the count</li>
<li><strong>deque</strong>: Thread-safe double-ended queue that supports most <code>list</code> methods</li>
<li><strong>namedtuple</strong>
<div class="highlight"><pre><span></span><code><span class="n">Card</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Card&#39;</span><span class="p">,[</span><span class="s1">&#39;rank&#39;</span><span class="p">,</span><span class="s1">&#39;suit&#39;</span><span class="p">])</span><span class="err">`</span>
<span class="n">City</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;City&#39;</span><span class="p">,</span> <span class="s1">&#39;Name Country Population Coordinates&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>
</code></pre></div></li>
<li>OrderedDict: Maintains keys in insertion order</li>
<li>UserDict: Designed to be subclassed</li>
</ul>
<h3 id="colorama">colorama</h3>
<p>Colorama provides a set of enums that resolve to terminal codes when concatenated with strings.
<div class="highlight"><pre><span></span><code><span class="n">colorama</span><span class="o">.</span><span class="n">Fore</span><span class="o">.</span><span class="n">GREEN</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">colorama</span><span class="o">.</span><span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span>
</code></pre></div></p>
<h3 id="csv">csv</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;file.csv&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
  <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)]</span>
</code></pre></div>
<a href="https://docs.python.org/3/library/csv.html#csv.DictReader">csv.DictReader</a>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;greeks.csv&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictReader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">],</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;dob&#39;</span><span class="p">])</span>
</code></pre></div></p>
<h3 id="datetime">datetime</h3>
<p><div class="highlight"><pre><span></span><code><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span>
<span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
</code></pre></div>
Difference between <code>datetime</code> objects is a <code>timedelta</code>
Parse strings into datetime objects
<div class="highlight"><pre><span></span><code><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">datestring</span><span class="p">,</span><span class="n">formatstring</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Various metacharacters are defined for `strptime`</span>
<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s1">&#39;06/30/1992&#39;</span><span class="p">,</span><span class="s1">&#39;%m/</span><span class="si">%d</span><span class="s1">/%Y&#39;</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="discordpy">discord.py</h3>
<p><div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>discord.py
<span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>discord.Client<span class="o">()</span>
</code></pre></div>
<code>Client</code> objects expose a decorator that is used for event handlers, functions named after various events:
- <code>on_ready</code>
- <code>on_member_join</code>
- <code>on_error</code>
- <code>on_message</code>
<div class="highlight"><pre><span></span><code><span class="nd">@client</span><span class="o">.</span><span class="n">event</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_ready</span><span class="p">():</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">client</span><span class="o">.</span><span class="n">user</span><span class="si">}</span><span class="s1"> has connected to Discord!&#39;</span><span class="p">)</span>
</code></pre></div>
Another decorator is exposed for in-chat commands (<a href="#discordextcommandsbot"><code>commands.Bot</code></a> has to be instantiated first.)
<div class="highlight"><pre><span></span><code><span class="nd">@bot</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;roll_dice&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Simulates rolling dice.&#39;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">number_of_dice</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">number_of_sides</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
  <span class="n">dice</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">number_of_sides</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number_of_dice</span><span class="p">)</span>
  <span class="p">]</span>
  <span class="k">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dice</span><span class="p">))</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">client</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><span class="n">bot</span> <span class="o">=</span> <span class="n">comands</span><span class="o">.</span><span class="n">Bot</span><span class="p">(</span><span class="n">command_prefix</span><span class="o">=</span><span class="s1">&#39;!&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="dotenv">dotenv</h3>
<p><div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>python-dotenv
</code></pre></div>
Load a .env file placed in the current working directory.
<div class="highlight"><pre><span></span><code><span class="n">load_dotenv</span><span class="p">()</span>
<span class="n">value</span> <span class="o">=</span>  <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="functools">functools</h3>
<p>For higher-order functions (functions that act on or return other functions)\
Apply <code>function</code> of two arguments cumulatively to the items of <code>iterable</code> in order to reduce it to a single value
<div class="highlight"><pre><span></span><code><span class="n">functools</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">iterable</span> <span class="p">[,</span> <span class="n">initializer</span><span class="p">])</span>
</code></pre></div>
Calculate ((((1+2) +3) +4) +5)
<div class="highlight"><pre><span></span><code><span class="n">functools</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
</code></pre></div>
<code>functools.reduce(lambda a,b: a*b, range(1,6))</code> =&gt; 120 : factorial</p>
<h3 id="glob">glob</h3>
<p>Produce a list of strings
<div class="highlight"><pre><span></span><code><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*.py&#39;</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="heapq">heapq</h3>
<p>Support <strong>heaps</strong>, data objects where each node is either greater than or equal to its parent (<strong>max-heap</strong>) or less than or equal to its parent (<strong>min-heap</strong>)
Create a heap from {iterable}
<div class="highlight"><pre><span></span><code><span class="n">heapq</span><span class="o">.</span><span class="n">heapify</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
</code></pre></div>
Remove and return the smallest element of {heap}
<div class="highlight"><pre><span></span><code><span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span>
</code></pre></div>
Replace the smallest element of {heap} with {element}
<div class="highlight"><pre><span></span><code><span class="n">heapq</span><span class="o">.</span><span class="n">heapreplace</span><span class="p">(</span><span class="n">heap</span><span class="p">,</span><span class="n">element</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="http">http</h3>
<p>Start an HTTP server for the current directory
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>http.server
</code></pre></div></p>
<h3 id="itertools">itertools</h3>
<p><strong><code>cycle()</code></strong> works like <code>next()</code>, but it restarts from the beginning of the iterable that is passed as argument after the last element has been reached.
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;raven&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">raven</span> <span class="o">=</span> <span class="p">[</span> <span class="n">l</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">f</span> <span class="p">]</span>

<span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">raven</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="jinja2">Jinja2</h3>
<p>The Python package is capitalized, whereas it is in lowercase when being imported within Python itself.</p>
<div class="grid cards">
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>Jinja2
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">jinja2</span>
</code></pre></div>
</div>
<p>Templates are assumed to be stored in a dedicated directory.
This directory is associated with the <strong>Environment</strong> object which is the central object in the Jinja API.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">jinja2</span> <span class="kn">import</span> <span class="n">Environment</span><span class="p">,</span> <span class="n">FileSystemLoader</span>

<span class="n">environment</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">loader</span><span class="o">=</span><span class="n">FileSystemLoader</span><span class="p">(</span><span class="s2">&quot;templates/&quot;</span><span class="p">))</span>
<span class="n">template</span> <span class="o">=</span> <span class="n">environment</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s2">&quot;template.j2&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="material-code-json-json">:material-code-json: json</h3>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">:material-import: Deserialize</label><label for="__tabbed_11_2">:material-export: Serialize</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">json</span>


<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;starships.json&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">json</span>


<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;starships.json&#39;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="logging">logging</h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">logging</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
  <span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;/tmp/learn-logging.log&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> </span><span class="si">%(levelname)s</span><span class="s1">: </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">)</span>
  <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Once upon a midnight dreary,&quot;</span><span class="p">)</span>
  <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;While I pondered weak and weary,&#39;</span><span class="p">)</span>
  <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Over many a quaint and curious volume of forgotten lore,&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h3 id="npyscreen">npyscreen</h3>
<p>Widget library and application framework built on top of <a href="#ncurses"><code>ncurses</code></a>. <sup><a href="https://npyscreen.readthedocs.io/">Documentation</a>]</p>
<p>Three main types of object compose <code>npyscreen</code> applications:
- <strong>Application objects</strong> manage forms and other classes
- <strong>Form objects</strong> form the canvas upon which widgets are arrayed
  - <code>Form</code> general-purpose
  - <a href="#npyscreenFormMutt"><code>FormMutt</code></a>
- <strong>Widget objects</strong> are individual controls
  - <code>TitleText</code> text entry
  - <code>TitleSelectOne</code> equivalent to radio buttons
  - <code>TitleDateCombo</code> allows picking of date on a small calendar</p>
<p><code>npyscreen.wrapper_basic</code> is the main entry point
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">npyscreen</span>

<span class="k">def</span> <span class="nf">myFunction</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
  <span class="k">pass</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">npyscreen</span><span class="o">.</span><span class="n">wrapper_basic</span><span class="p">(</span><span class="n">myFunction</span><span class="p">)</span>
  <span class="nb">print</span> <span class="s2">&quot;Blink and you missed it!&quot;</span>
</code></pre></div>
<code>npyscreen.Form</code> is equivalent to the <code>Tk()</code> object, which is typically instantiated as <code>win</code> in GUI frameworks.
<div class="highlight"><pre><span></span><code><span class="n">F</span> <span class="o">=</span> <span class="n">npyscreen</span><span class="o">.</span><span class="n">Form</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;My Test Application&#39;</span><span class="p">)</span>
</code></pre></div>
Several important methods are key:
- <code>create()</code> The standard constructor calls this method, which does nothing by default and is meant to be overriden in subclasses. Widgets are defined here.</p>
<p><a href="https://npyscreen.readthedocs.io/form-objects.html#mutt-like-forms"><strong><code>npyscreen.FormMutt</code></strong></a> imitates a UI layout popularized by applications like <a href="https://github.com/jasper-zanjani/notes/tree/master/lx"><code>mutt</code></a>, <code>irssi</code>, and <code>vim</code>, with a title bar at the top, a command line at the bottom, and a status line directly above the command line.</p>
<p><code>ACTION_CONTROLLER</code> can be defined in the <code>FormMutt</code> subclass as the name of a subclass of <code>ActionControllerSimple</code>.
Commands for the application can be defined as callbacks in the <code>create()</code> method.
<div class="highlight"><pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">ident</span><span class="p">,</span><span class="n">call_back</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</code></pre></div>
Callbacks are called with the following arguments:
<div class="highlight"><pre><span></span><code><span class="n">call_back</span><span class="p">(</span><span class="n">command_line</span><span class="p">,</span> <span class="n">control_widget_proxy</span><span class="p">,</span> <span class="n">live</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ActionControllerSearch</span><span class="p">(</span><span class="n">npyscreen</span><span class="o">.</span><span class="n">ActionControllerSimple</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="s1">&#39;^/.*&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_search</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command_line</span><span class="p">,</span> <span class="n">widget_proxy</span><span class="p">,</span> <span class="n">live</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">set_filter</span><span class="p">(</span><span class="n">command_line</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">wMain</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">wMain</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">FmSearchActive</span><span class="p">(</span><span class="n">npyscreen</span><span class="o">.</span><span class="n">FormMuttActiveTraditional</span><span class="p">):</span>
    <span class="n">ACTION_CONTROLLER</span> <span class="o">=</span> <span class="n">ActionControllerSearch</span>
</code></pre></div></p>
<p><strong><code>npyscreen.NPSAppManaged</code></strong> is the preferred superclass to support object-oriented implementation.
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyApplication</span><span class="p">(</span><span class="n">npyscreen</span><span class="o">.</span><span class="n">NPSAppManaged</span><span class="p">):</span>
  <span class="k">pass</span>
</code></pre></div>
Calling <code>run()</code> method of application object as main entry point.
<code>run()</code> activates the default form, which should be given an id of <code>MAIN</code>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">TestApp</span> <span class="o">=</span> <span class="n">MyApplication</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
  <span class="nb">print</span> <span class="s2">&quot;All objects, baby.&quot;</span>
</code></pre></div>
Using a <code>try</code>/<code>except</code> block to allow for well-mannered exit in case of <code>KeyboardInterrupt</code> (Ctrl+C)<sup><a href="https://github.com/c1ko/nh/blob/master/nh.py">GitHub</a></sup>
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="p">:</span>
  <span class="n">App</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
  <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
There are three methods for registering a <code>Form</code> object with a <code>NPSAppManaged</code> instance;
- <code>addForm()</code> creates a new form and returns a <code>weakref.proxy</code> to it
- <code>addFormClass()</code> register a class of <code>Form</code> rather than an instance
- <code>registerForm()</code></p>
<p>It continually displays the Form named by its <code>NEXT_ACTIVE_FORM</code> attribute.
Use the <code>afterEditing</code> method to allow exiting.
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">myEmployeeForm</span><span class="p">(</span><span class="n">npyscreen</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">afterEditing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parentApp</span><span class="o">.</span><span class="n">setNextForm</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="numpy">numpy</h3>
<p><code>numpy.ndarray</code>
  - 2-dimensional array
  - items can be fetched using the syntax <code>a[i, j]</code>
  - arrays can be sliced with syntax <code>a[m:n, k:l]</code>
  - FP:35
<code>numpy.arange(n)</code> build a <code>numpy.ndarray</code> object with numbers 0 to n-1 (FP:52)
<code>numpy.loadtxt(filename)</code> load numbers stored in a text file (FP:53)</p>
<h3 id="optparse">optparse</h3>
<p>Instantiate the parser object
<div class="highlight"><pre><span></span><code><span class="n">parser</span> <span class="o">=</span> <span class="n">optparse</span><span class="o">.</span><span class="n">OptionParser</span><span class="p">(</span><span class="n">usage</span><span class="o">=</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

<span class="c1"># add an option</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s1">&#39;--timeout&#39;</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="os">os</h3>
<p>Execute shell command given by string.  The value returned is actually the exit code, <strong>not</strong> the output of the command to STDOUT.
<div class="highlight"><pre><span></span><code><span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">)</span>
</code></pre></div>
Store output in a variable
<div class="highlight"><pre><span></span><code><span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s1">&#39;ls -la&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div>
Navigate filesystem
<div class="highlight"><pre><span></span><code><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
Test for existence of a file
<div class="highlight"><pre><span></span><code><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="pandas">pandas</h3>
<p>summary: open-source Python library used for data science
operation: runs over NumPy
  - good for storing lists-of-lists (CSV)
<code>print(df)</code>
  - prints it out in an easy to read tabular format</p>
<p><code>DataFrame</code> is the main object in <code>pandas</code>
- <code>head()</code>, <code>tail()</code>
  - prints out the first, last several rows (5 by default)
  - optional numerical argument defines number of rows
- <code>describe()</code>
  - numerical analyses, including count, unique, mean, etc
- <code>sort_values('field',ascending=False)</code></p>
<h3 id="pathlib">pathlib</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create a new pathlib object; represents a file or directory</span>
<span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="c1"># Test for existence of a file</span>
<span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">is_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

<span class="c1"># Test for existence of a directory</span>
<span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span>

<span class="c1"># Find all .py files. Returns a generator</span>
<span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*.py&#39;</span><span class="p">)</span>

<span class="c1"># Open a file. </span>
<span class="c1"># This makes a file object that is automatically closed, similar to `open` builtin:</span>
<span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>

<span class="c1"># Display file extension</span>
<span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">suffix</span><span class="p">()</span>

<span class="c1"># Display file size</span>
<span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span>
</code></pre></div>
<h3 id="pyinstaller">pyinstaller</h3>
<p>Installing <strong>PyInstaller</strong>, even in a virtual environment, will install the pyinstaller executable to $HOME/.local/bin.
On Windows, it is installed to another directory within 
<strong>LOCALAPPDATA</strong>.</p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>pyinstaller
</code></pre></div>
<p>PyInstaller creates primarily 3 items:</p>
<ul>
<li>.spec file, named after the CLI script</li>
<li>build/ folder, which can be ignored</li>
<li>dist/ folder, containing the final artifact at dist/cli/cli or dist/cli/cli.exe</li>
</ul>
<p>Several options are available</p>
<p>[<code>hidden-import</code>][pyinstaller --hidden-import]
[<code>name</code>][pyinstaller --name]
[<code>onefile</code>][pyinstaller --onefile]</p>
<p><div class="highlight"><pre><span></span><code>pyinstaller<span class="w"> </span>script.py<span class="w"> </span>--onefile
</code></pre></div>
On Windows, if PyInstaller is run from a virtual environment without necessary modules installed, they may not be available for compilation into the artifact. This does not appear to be an issue with Linux.</p>
<p>This problem appears to be specific to certain modules, like <a href="https://github.com/carpedm20/emoji/"><strong>emoji</strong></a>.</p>
<h3 id="pythonnet">pythonnet</h3>
<ul>
<li>
<p>Docs: <a href="https://github.com/pythonnet/pythonnet" title="Github">?</a> <a href="http://pythonnet.github.io/">!</a>
Developers recommend Mono version 5.20.1 <sup>Issues <a href="https://github.com/pythonnet/pythonnet/issues/939">939</a></sup>
On Ubuntu, the <code>eoan</code> <code>universe</code> repository has to be added 
<div class="highlight"><pre><span></span><code>deb https://archive.ubuntu.com/ubuntu/ eoan universe
deb https://archive.ubuntu.com/ubuntu/ eoan-updates universe
</code></pre></div>
But I can't figure out how to add the older version, because the recommended syntax produces the error "Unable to correct problems, you have held broken packages"
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>mono-devel<span class="o">=</span><span class="m">5</span>.18.0.240+dfsg-3
</code></pre></div>
Maybe try the <a href="https://download.mono-project.com/sources/mono/">tarballs</a> on Mono's website...
Or maybe there's <a href="https://github.com/jonemo/pythonnet-docker/blob/master/python3.6.5-mono5.4.1.6-pythonnet2.4.0.dev0.Dockerfile">another repo</a> I don't know about..
<div class="highlight"><pre><span></span><code>apt<span class="w"> </span>install<span class="w"> </span>clang<span class="w"> </span>libglib2.0-dev<span class="w"> </span>python3-dev
</code></pre></div>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>pycparser<span class="w"> </span>pythonnet
pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>setuptools
</code></pre></div></p>
</li>
<li>
<h4 id="random">random</h4>
<hr />
<div class="highlight"><pre><span></span><code><span class="c1"># Random choice with replacement</span>
<span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>

<span class="c1"># Shuffle elements of an iterable in-place</span>
<span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>

<span class="c1"># Random 20-byte hex value</span>
<span class="nb">hex</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">8</span><span class="o">*</span><span class="mi">20</span><span class="p">)))</span>
<span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">8</span><span class="o">*</span><span class="mi">20</span><span class="p">))</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;big&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span>
</code></pre></div>
</li>
<li>
<h4 id="scrapy">scrapy</h4>
</li>
</ul>
<p>Best used to obtain one "stream" of data at a time, without trying to obtain data from different pages
<div class="highlight"><pre><span></span><code>scrapy<span class="w"> </span>runspider<span class="w"> </span>spider.py<span class="w"> </span>-o<span class="w"> </span>file.json
</code></pre></div>
Display HTML source of the scraped page
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">txt</span><span class="p">)</span>
</code></pre></div>
Get <code>{URL}</code>
<div class="highlight"><pre><span></span><code><span class="n">fetch</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">)</span>
</code></pre></div>
Select a CSS selector
<div class="highlight"><pre><span></span><code><span class="c1"># Returns a `SelectorList`</span>
<span class="n">response</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>
<span class="c1"># Retrieve full HTML elements</span>
<span class="n">response</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
</code></pre></div>
Retrieve only the text within the element
<div class="highlight"><pre><span></span><code><span class="n">response</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s1">&#39;p::text&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
<span class="n">response</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s1">&#39;p::text&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extract_first</span><span class="p">()</span>
<span class="n">response</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s1">&#39;p::text&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extract</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
Get the <code>href</code> attribute value for an anchor tag
<div class="highlight"><pre><span></span><code><span class="n">response</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>
</code></pre></div>
Launch Scrapy shell and scrape <code>$URL</code>
<div class="highlight"><pre><span></span><code>scrapy<span class="w"> </span>shell<span class="w"> </span><span class="nv">$URL</span>
</code></pre></div>
Make a default spider named {quotes} that will be restricted to {domain}
<div class="highlight"><pre><span></span><code><span class="n">scrapy</span> <span class="n">genspider</span> <span class="n">quotes</span> <span class="n">domain</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">scrapy</span> <span class="n">runspider</span> <span class="n">scrapy1</span><span class="o">.</span><span class="n">py</span>
</code></pre></div>
Run a spider, saving scraped data to a JSON file
<div class="highlight"><pre><span></span><code><span class="n">scrapy</span> <span class="n">runspider</span> <span class="n">spider</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">o</span> <span class="n">items</span><span class="o">.</span><span class="n">json</span>
</code></pre></div>
Method which contains most of the logic of the spider, especially after the <code>yield</code> keyword. For multiple items, a structural basis for iteration must be found and for each iteration, data is yielded</p>
<p>Extract URL from link using standard CSS selection techniques</p>
<p>Add the domain name to a relative link
<div class="highlight"><pre><span></span><code><span class="n">response</span><span class="o">.</span><span class="n">urljoin</span><span class="p">()</span>
</code></pre></div>
Recursively call the <code>parse</code> method again on the next page
<div class="highlight"><pre><span></span><code><span class="k">yield</span> <span class="n">scrapy</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">next_page_url</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">)</span>
</code></pre></div>
Scrape detail pages
  - <code>parse_details</code> would be a spider method <em>sibling</em> to the main <code>parse</code> method
  - if a detail page has more information than the main, then the <code>yield</code> keyword should be in <code>parse_details</code>
<div class="highlight"><pre><span></span><code><span class="k">yield</span> <span class="n">scrapy</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="p">{</span><span class="n">url</span><span class="p">},</span> <span class="n">callback</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_details</span><span class="p">)</span>
</code></pre></div>
-   #### setuptools</p>
<pre><code>---

Setuptools is for uploading to PyPi. To create self-contained executable files, use [**pyinstaller**](#pyinstaller).

```
PROJECT
 PROJECT     # Additional code files will be placed in here
  init.py
 setup.py    # Containing a call to `setuptools.setup()`

1 directory, 2 files
```
setup.py
```python
from setuptools import setup

setup(
name='funniest',
version='0.1',
description='The funniest joke in the world',
url='http://github.com/storborg/funniest',
author='Flying Circus',
author_email='flyingcircus@example.com',
license='MIT',
packages=['funniest'],
zip_safe=False
)
```
If the package has dependencies, they can be added by appending a `install_requires` keyword argument passing an array of the module names
```python
setup(
install_requires=[ 'markdown', ],
)
```

Reserve the name, upload package metadata, and create the pypi.python.org webpage
```py
python setup.py register
```
Create a source distribution, producing a tarball inside the top-level directory
```py
python setup.py sdist
```
Upload the source distribution
```py
python setup.py sdist upload
```
Do all the above in a single step
```py
python setup.py register sdist upload
```
</code></pre>
<ul>
<li>
<h4 id="socket">socket</h4>
<hr />
<p>The socket module is Python's standard interface for the transport layer.
Sockets can be classified by <strong><code>family</code></strong></p>
<ul>
<li><strong><code>AF_INET</code></strong> Internet</li>
<li><code>AF_UNIX</code> for UNIX sockets</li>
</ul>
<p>and <strong><code>type</code></strong>:
- <strong><code>SOCK_STREAM</code></strong> TCP
- <code>SOCK_DGRAM</code> UDP</p>
<p>These enum values are required upon initialization of a socket object: <sup>[Ortega][Ortega]: 25</sup></p>
<div class="highlight"><pre><span></span><code><span class="n">client_socket</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">TCP</label><label for="__tabbed_12_2">UDP</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><span class="filename">server</span><pre><span></span><code><span class="kn">import</span> <span class="nn">socket</span>


<span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
    <span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span><span class="n">PORT</span><span class="p">))</span>
</code></pre></div>
<div class="highlight"><span class="filename">client</span><pre><span></span><code><span class="kn">import</span> <span class="nn">socket</span>


<span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
    <span class="n">s</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span><span class="n">PORT</span><span class="p">))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><span class="filename">server</span><pre><span></span><code><span class="kn">import</span> <span class="nn">socket</span>


<span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_DGRAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
    <span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span><span class="n">PORT</span><span class="p">))</span>
</code></pre></div>
<div class="highlight"><span class="filename">client</span><pre><span></span><code><span class="kn">import</span> <span class="nn">socket</span>

<span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Hello, world!&quot;</span>
<span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_DGRAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
    <span class="n">s</span><span class="o">.</span><span class="n">sendto</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span> <span class="p">(</span><span class="n">HOST</span><span class="p">,</span><span class="n">PORT</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
</div>
<div class="highlight"><pre><span></span><code><span class="c1"># Define port on which to listen for connections.</span>
<span class="n">serversocket</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span><span class="mi">80</span><span class="p">))</span>

<span class="c1"># Connect to a remote socket in one direction</span>
<span class="n">client_socket</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="s1">&#39;www.packtpub.com&#39;</span><span class="p">,</span><span class="mi">80</span><span class="p">))</span>

<span class="c1"># Convert a domain name into IPv4 address</span>
<span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="s1">&#39;packtpub.com&#39;</span><span class="p">)</span> <span class="c1"># &#39;83.166.169.231&#39;</span>

<span class="c1"># Defaults to **localhost** with no arguments</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">(),</span><span class="mi">1234</span><span class="p">))</span>

<span class="c1"># Get protocol name from port number</span>
<span class="n">socket</span><span class="o">.</span><span class="n">getservbyport</span><span class="p">(</span><span class="mi">80</span><span class="p">)</span> <span class="c1"># &#39;http&#39;</span>

<span class="c1"># Listen to a maximum of 10 connections</span>
<span class="n">serversocket</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Receive bytestream from server</span>
<span class="n">msg</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
</code></pre></div>
<details class="info">
<summary>Resources</summary>
<p><a href="https://youtu.be/Lbfe3-v7yE0">Sockets tutorial</a></p>
</details>
</li>
</ul>
<h3 id="sqlite3">sqlite3</h3>
<p>Create a <code>Connect</code> connection object and <strong>employee.db</strong> (binary) if it doesn't exist
<div class="highlight"><pre><span></span><code><span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;employee.db&#39;</span><span class="p">)</span>
</code></pre></div>
Create a <code>Connect.Cursor</code> object
<div class="highlight"><pre><span></span><code><span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</code></pre></div>
Perform SQL commands with <code>Connect.Cursor.execute()</code>. Create <code>tablename</code> with fields <code>field</code> of type <code>type</code> (<code>null</code>, <code>integer</code>, <code>real</code>, <code>text</code>, <code>blob</code>); never use Python's native string operations (f-strings, etc) to form commands, because this method is vulnerable to SQL injection. <sup><a href="https://youtu.be/pd-0G0MigUA">YouTube</a></sup>
<div class="highlight"><pre><span></span><code><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;CREATE TABLE </span><span class="si">{tablename}</span><span class="s1"> (</span><span class="si">{field}</span><span class="s1"> </span><span class="si">{type}</span><span class="s1">, </span><span class="si">{field}</span><span class="s1"> </span><span class="si">{type}</span><span class="s1"> ...))</span>
</code></pre></div>
Save changes
<div class="highlight"><pre><span></span><code><span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
Close connection
<div class="highlight"><pre><span></span><code><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></p>
<h3 id="subprocess">subprocess</h3>
<p><strong>subprocess</strong> modules allows you to spawn new processes, interact with file descriptors, and obtain exit codes. The recommended approach is to use the <code>run()</code> function as default, which runs a CLI command with options as a list of strings and returns a <code>CompletedProcess</code> instance.\
Execute shell command
Unlike <code>os.system</code>, <code>subprocess.run()</code> takes a list of arguments. 
<div class="highlight"><pre><span></span><code><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;ls&#39;</span><span class="p">,</span><span class="s1">&#39;-l,&#39;</span><span class="o">.</span><span class="s1">&#39;], 0)</span>
</code></pre></div>
Set <code>capture_output</code> to <code>True</code> to save output, stored as property <code>stdout</code> of the returned object. 
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;ls,&#39;</span><span class="o">-</span><span class="n">l</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="s1">&#39;], 0, capture_output=True)</span>
</code></pre></div>
The data is stored as a <strong>bytestring</strong>, which can be decoded to a normal string.
<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</code></pre></div>
This return a <code>CompletedProcess</code> instance with the command's output stored under the <code>stdout</code> property
<div class="highlight"><pre><span></span><code><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;ls&#39;</span><span class="p">,</span><span class="s1">&#39;-l&#39;</span><span class="p">,</span><span class="s1">&#39;/dev/null&#39;</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
This will raise a <code>CalledProcessError</code> exception because of the non-zero exit code
<div class="highlight"><pre><span></span><code><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;exit 1&#39;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="sys">sys</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Return site-specific directory where Python files are installed (/usr/local/ by default)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">prefix</span>
</code></pre></div>
<h3 id="termcolor">termcolor</h3>
<p>Print <code>text</code> in a color code
<div class="highlight"><pre><span></span><code><span class="n">termcolor</span><span class="o">.</span><span class="n">cprint</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="n">color</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="threading">threading</h3>
<p>:point_right: <a href="https://docs.python.org/3/library/threading.html">Docs</a></p>
<p><div class="highlight"><pre><span></span><code><span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">func1</span><span class="p">():</span>
  <span class="k">global</span> <span class="n">counter</span>

  <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
      <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="n">counter</span> <span class="o">-=</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">func2</span><span class="p">():</span>
  <span class="k">global</span> <span class="n">counter</span>

  <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
      <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="n">counter</span> <span class="o">-=</span> <span class="mi">1</span>

<span class="n">threading</span><span class="o">.</span><span class="n">Thrad</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">func1</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">threading</span><span class="o">.</span><span class="n">Thrad</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">func2</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">func1</span><span class="p">():</span>
  <span class="k">global</span> <span class="n">counter</span>

  <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">counter</span> <span class="o">-=</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">func2</span><span class="p">():</span>
  <span class="k">global</span> <span class="n">counter</span>

  <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">counter</span> <span class="o">-=</span> <span class="mi">1</span>

<span class="n">threading</span><span class="o">.</span><span class="n">Thrad</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">func1</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">threading</span><span class="o">.</span><span class="n">Thrad</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">func2</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre></div></p>
<h3 id="typing">typing</h3>
<p>As tuples, their attributes are <strong>immutable</strong>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Starship</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
  <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
  <span class="n">registry</span><span class="p">:</span> <span class="nb">str</span>
  <span class="n">crew</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></p>
<h3 id="urllib">urllib</h3>
<p>Download an RFC file from rfc-editor.org <sup>[Ortega][Ortega]</sup>
<div class="highlight"><pre><span></span><code><span class="n">rfc_raw</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">rfc</span> <span class="o">=</span> <span class="n">rfc_raw</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
</code></pre></div></p>
<h3 id="weakref">weakref</h3>
<p><strong>Weak references</strong> are references to objects which return exceptions when that object has been garbage collected
Create a weak reference to {object} 
<div class="highlight"><pre><span></span><code><span class="c1"># A weak reference created using `ref` must be dereferenced </span>
<span class="n">r</span> <span class="o">=</span> <span class="n">weakref</span><span class="o">.</span><span class="n">ref</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> 
<span class="n">r</span><span class="p">()</span><span class="o">.</span><span class="n">method</span><span class="p">()</span> 
<span class="n">r</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>          <span class="c1"># will not work</span>

<span class="c1"># A weak reference created using `proxy` does not need to be dereferenced:</span>
<span class="n">weakref</span><span class="o">.</span><span class="n">proxy</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="winrm">winrm</h3>
<p><strong>Winrm</strong> allows you to connect Linux and Windows hosts over WinRM. <sup><a href="https://adamtheautomator.com/winrm-linux-remoting/" title="Step-by-step guide on how to set up WinRM on a Linux client">adamtheautomator.com</a> </sup>
Begin a WinRM session. If no errors are thrown, the session has been successfully established
<div class="highlight"><pre><span></span><code><span class="n">session</span> <span class="o">=</span> <span class="n">winrm</span><span class="o">.</span><span class="n">Session</span><span class="p">(</span><span class="n">ipaddress</span><span class="p">,</span><span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">password</span><span class="p">))</span>
</code></pre></div></p>
<h3 id="yaml">yaml</h3>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>pyyaml
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="13:2"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">:material-import: Deserialize</label><label for="__tabbed_13_2">:material-export: Serialize</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">yaml</span>


<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./starships.yaml&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="hll">    <span class="n">starships</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span></code></pre></div>
<p>There is a <code>load</code> method but it requires specifying <a href="https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load(input)-Deprecation">one of four possible values</a> for the <strong>Loader</strong> kwarg.</p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">yaml</span>


<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./starships.yaml&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="hll">    <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">starships</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</span></code></pre></div>
</div>
</div>
</div>
<details class="info">
<summary>Resources</summary>
<ul>
<li><a href="https://www.cncf.io/blog/2019/02/21/introduction-to-yaml-creating-a-kubernetes-deployment/">Introduction to YAML</a></li>
</ul>
</details>
<h3 id="xml">xml</h3>
<details class="info">
<summary>books.xml</summary>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;catalog&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk101&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>Gambardella,<span class="w"> </span>Matthew<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>XML<span class="w"> </span>Developer&#39;s<span class="w"> </span>Guide<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Computer<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>44.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2000-10-01<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>An<span class="w"> </span>in-depth<span class="w"> </span>look<span class="w"> </span>at<span class="w"> </span>creating<span class="w"> </span>applications<span class="w"> </span>
<span class="w">        </span>with<span class="w"> </span>XML.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk102&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>Ralls,<span class="w"> </span>Kim<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>Midnight<span class="w"> </span>Rain<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Fantasy<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>5.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2000-12-16<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>A<span class="w"> </span>former<span class="w"> </span>architect<span class="w"> </span>battles<span class="w"> </span>corporate<span class="w"> </span>zombies,<span class="w"> </span>
<span class="w">        </span>an<span class="w"> </span>evil<span class="w"> </span>sorceress,<span class="w"> </span>and<span class="w"> </span>her<span class="w"> </span>own<span class="w"> </span>childhood<span class="w"> </span>to<span class="w"> </span>become<span class="w"> </span>queen<span class="w"> </span>
<span class="w">        </span>of<span class="w"> </span>the<span class="w"> </span>world.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk103&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>Corets,<span class="w"> </span>Eva<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>Maeve<span class="w"> </span>Ascendant<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Fantasy<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>5.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2000-11-17<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>After<span class="w"> </span>the<span class="w"> </span>collapse<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>nanotechnology<span class="w"> </span>
<span class="w">        </span>society<span class="w"> </span>in<span class="w"> </span>England,<span class="w"> </span>the<span class="w"> </span>young<span class="w"> </span>survivors<span class="w"> </span>lay<span class="w"> </span>the<span class="w"> </span>
<span class="w">        </span>foundation<span class="w"> </span>for<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>society.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk104&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>Corets,<span class="w"> </span>Eva<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>Oberon&#39;s<span class="w"> </span>Legacy<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Fantasy<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>5.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2001-03-10<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>In<span class="w"> </span>post-apocalypse<span class="w"> </span>England,<span class="w"> </span>the<span class="w"> </span>mysterious<span class="w"> </span>
<span class="w">        </span>agent<span class="w"> </span>known<span class="w"> </span>only<span class="w"> </span>as<span class="w"> </span>Oberon<span class="w"> </span>helps<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>life<span class="w"> </span>
<span class="w">        </span>for<span class="w"> </span>the<span class="w"> </span>inhabitants<span class="w"> </span>of<span class="w"> </span>London.<span class="w"> </span>Sequel<span class="w"> </span>to<span class="w"> </span>Maeve<span class="w"> </span>
<span class="w">        </span>Ascendant.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk105&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>Corets,<span class="w"> </span>Eva<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>The<span class="w"> </span>Sundered<span class="w"> </span>Grail<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Fantasy<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>5.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2001-09-10<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>The<span class="w"> </span>two<span class="w"> </span>daughters<span class="w"> </span>of<span class="w"> </span>Maeve,<span class="w"> </span>half-sisters,<span class="w"> </span>
<span class="w">        </span>battle<span class="w"> </span>one<span class="w"> </span>another<span class="w"> </span>for<span class="w"> </span>control<span class="w"> </span>of<span class="w"> </span>England.<span class="w"> </span>Sequel<span class="w"> </span>to<span class="w"> </span>
<span class="w">        </span>Oberon&#39;s<span class="w"> </span>Legacy.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk106&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>Randall,<span class="w"> </span>Cynthia<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>Lover<span class="w"> </span>Birds<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Romance<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>4.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2000-09-02<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>When<span class="w"> </span>Carla<span class="w"> </span>meets<span class="w"> </span>Paul<span class="w"> </span>at<span class="w"> </span>an<span class="w"> </span>ornithology<span class="w"> </span>
<span class="w">        </span>conference,<span class="w"> </span>tempers<span class="w"> </span>fly<span class="w"> </span>as<span class="w"> </span>feathers<span class="w"> </span>get<span class="w"> </span>ruffled.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk107&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>Thurman,<span class="w"> </span>Paula<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>Splish<span class="w"> </span>Splash<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Romance<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>4.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2000-11-02<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>A<span class="w"> </span>deep<span class="w"> </span>sea<span class="w"> </span>diver<span class="w"> </span>finds<span class="w"> </span>true<span class="w"> </span>love<span class="w"> </span>twenty<span class="w"> </span>
<span class="w">        </span>thousand<span class="w"> </span>leagues<span class="w"> </span>beneath<span class="w"> </span>the<span class="w"> </span>sea.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk108&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>Knorr,<span class="w"> </span>Stefan<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>Creepy<span class="w"> </span>Crawlies<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Horror<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>4.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2000-12-06<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>An<span class="w"> </span>anthology<span class="w"> </span>of<span class="w"> </span>horror<span class="w"> </span>stories<span class="w"> </span>about<span class="w"> </span>roaches,
<span class="w">        </span>centipedes,<span class="w"> </span>scorpions<span class="w">  </span>and<span class="w"> </span>other<span class="w"> </span>insects.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk109&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>Kress,<span class="w"> </span>Peter<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>Paradox<span class="w"> </span>Lost<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Science<span class="w"> </span>Fiction<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>6.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2000-11-02<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>After<span class="w"> </span>an<span class="w"> </span>inadvertant<span class="w"> </span>trip<span class="w"> </span>through<span class="w"> </span>a<span class="w"> </span>Heisenberg
<span class="w">        </span>Uncertainty<span class="w"> </span>Device,<span class="w"> </span>James<span class="w"> </span>Salway<span class="w"> </span>discovers<span class="w"> </span>the<span class="w"> </span>problems<span class="w"> </span>
<span class="w">        </span>of<span class="w"> </span>being<span class="w"> </span>quantum.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk110&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>O&#39;Brien,<span class="w"> </span>Tim<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>Microsoft<span class="w"> </span>.NET:<span class="w"> </span>The<span class="w"> </span>Programming<span class="w"> </span>Bible<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Computer<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>36.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2000-12-09<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>Microsoft&#39;s<span class="w"> </span>.NET<span class="w"> </span>initiative<span class="w"> </span>is<span class="w"> </span>explored<span class="w"> </span>in<span class="w"> </span>
<span class="w">        </span>detail<span class="w"> </span>in<span class="w"> </span>this<span class="w"> </span>deep<span class="w"> </span>programmer&#39;s<span class="w"> </span>reference.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk111&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>O&#39;Brien,<span class="w"> </span>Tim<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>MSXML3:<span class="w"> </span>A<span class="w"> </span>Comprehensive<span class="w"> </span>Guide<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Computer<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>36.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2000-12-01<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>The<span class="w"> </span>Microsoft<span class="w"> </span>MSXML3<span class="w"> </span>parser<span class="w"> </span>is<span class="w"> </span>covered<span class="w"> </span>in<span class="w"> </span>
<span class="w">        </span>detail,<span class="w"> </span>with<span class="w"> </span>attention<span class="w"> </span>to<span class="w"> </span>XML<span class="w"> </span>DOM<span class="w"> </span>interfaces,<span class="w"> </span>XSLT<span class="w"> </span>processing,<span class="w"> </span>
<span class="w">        </span>SAX<span class="w"> </span>and<span class="w"> </span>more.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="w">    </span><span class="nt">&lt;book</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bk112&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;author&gt;</span>Galos,<span class="w"> </span>Mike<span class="nt">&lt;/author&gt;</span>
<span class="w">        </span><span class="nt">&lt;title&gt;</span>Visual<span class="w"> </span>Studio<span class="w"> </span>7:<span class="w"> </span>A<span class="w"> </span>Comprehensive<span class="w"> </span>Guide<span class="nt">&lt;/title&gt;</span>
<span class="w">        </span><span class="nt">&lt;genre&gt;</span>Computer<span class="nt">&lt;/genre&gt;</span>
<span class="w">        </span><span class="nt">&lt;price&gt;</span>49.95<span class="nt">&lt;/price&gt;</span>
<span class="w">        </span><span class="nt">&lt;publish_date&gt;</span>2001-04-16<span class="nt">&lt;/publish_date&gt;</span>
<span class="w">        </span><span class="nt">&lt;description&gt;</span>Microsoft<span class="w"> </span>Visual<span class="w"> </span>Studio<span class="w"> </span>7<span class="w"> </span>is<span class="w"> </span>explored<span class="w"> </span>in<span class="w"> </span>depth,
<span class="w">        </span>looking<span class="w"> </span>at<span class="w"> </span>how<span class="w"> </span>Visual<span class="w"> </span>Basic,<span class="w"> </span>Visual<span class="w"> </span>C++,<span class="w"> </span>C#,<span class="w"> </span>and<span class="w"> </span>ASP+<span class="w"> </span>are<span class="w"> </span>
<span class="w">        </span>integrated<span class="w"> </span>into<span class="w"> </span>a<span class="w"> </span>comprehensive<span class="w"> </span>development<span class="w"> </span>
<span class="w">        </span>environment.<span class="nt">&lt;/description&gt;</span>
<span class="w">    </span><span class="nt">&lt;/book&gt;</span>
<span class="nt">&lt;/catalog&gt;</span>
</code></pre></div>
</details>
<p>The <strong>etree</strong> submodule contains the <strong>ElementTree</strong> object which can open a string filename to deserialize XML data using <strong><code>parse()</code></strong>, which returns an <strong>ElementTree</strong> object, representing an XML document.
A Python string can also be parsed with <code>fromstring()</code>, which actually returns an <strong>Element</strong> object.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="14:2"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><input id="__tabbed_14_2" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">File</label><label for="__tabbed_14_2">String</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">tree</span> <span class="o">=</span> <span class="n">xml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">ElementTree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;books.xml&#39;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">tree</span> <span class="o">=</span> <span class="n">xml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">ElementTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">books</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p>The <code>getroot()</code> method returns an Element object of the XML document's root node.
<div class="highlight"><pre><span></span><code><span class="n">root</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>
</code></pre></div></p>
<p>The parsed data can be displayed using the <code>tostring()</code> static method, providing an Element as argument.
<div class="highlight"><pre><span></span><code><span class="n">ElementTree</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</code></pre></div></p>
<p>Children of an element can be filtered using <code>findall()</code>. This returns a list of Elements.
<div class="highlight"><pre><span></span><code><span class="n">books</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;book&#39;</span><span class="p">)</span>
</code></pre></div></p>
<p>Any Element object exposes an <code>attrib</code> property which returns a dictionary of attributes.
<div class="highlight"><pre><span></span><code>[b.attrib for b in books]
</code></pre></div></p>
<p>Attributes can be written to an Element using the <code>set()</code> method.
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</code></pre></div></p>
<p>Attributes can also be manipulated on the attrib property with normal Python dictionary operations.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:2"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><input id="__tabbed_15_2" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="__tabbed_15_1">Setting</label><label for="__tabbed_15_2">Deleting</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">del</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">])</span>
</code></pre></div>
</div>
</div>
</div>
<p>Commit changes to disk. The argument can be a string representing the filename or a file object (in which case the file must be opened as a binary). Encoding can be specified (default is <em>UTF-8</em>) and a XML declaration can also be automatically generated.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="16:2"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><input id="__tabbed_16_2" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="__tabbed_16_1">String</label><label for="__tabbed_16_2">File object</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">tree</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;books.xml&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF-16&#39;</span><span class="p">,</span> <span class="n">xml_declaration</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;books.xml&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">tree</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p>Find elements by element namescripts
<div class="highlight"><pre><span></span><code><span class="n">tree</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;book&#39;</span><span class="p">)</span>
</code></pre></div></p>
<h2 id="glossary">Glossary</h2>
<p><strong>Method resolution order (MRO)</strong> is the order of base classes that are searched when using <strong>super()</strong>. 
It is accessed with <strong>__mro__</strong>, which returns a tuple of base classes in order of precedence, ending in <code>object</code> which is the root class of all classes.
(<a href="https://rhettinger.wordpress.com/2011/05/26/super-considered-super/">src</a>)</p>
<p><strong>Non-interactive debugging</strong> is the most basic form of debugging, dependent on <code>print</code> or <code>log</code> statements placed within the body of code.</p>
<p>A <strong>type slot</strong> is any of a number of fields within each magic method, including <code>__new__()</code>, <code>__init__()</code>, and <code>__prepare__()</code> (which returns a dictionary-like object that's used as the local namespace for all code from the class body)</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "navigation.expand", "toc.integrate", "content.code.annotate", "content.code.copy", "content.tabs.link"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.caa56a14.min.js"></script>
      
    
  </body>
</html>