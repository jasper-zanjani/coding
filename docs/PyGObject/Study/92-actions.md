# Actions

--8<-- "includes/pygobject/links.md"

> [Read this](https://docs.gtk.org/gtk4/actions.html)

Actions are a way to connect UI elements to callbacks and are functional only.

```py title="Generated by Builder"
--8<-- "includes/pygobject/builder/main-actions.py"
```

[`Gtk.Application`][Gtk.Application] implements [`Gio.ActionMap`][Gio.ActionMap] which is why it exposes the `add_action` method.


Rather, actions are defined in the code and added to the subclass, and the UI definition only provides the name of the action as registered within the code.

Note that actions registered within the ApplicationWindow subclass or Application subclass are both accessible.

Also note that the menu as a whole does not appear in code but is assigned to the `menu-model` property of the [MenuButton][Gtk.MenuButton] element. (1)
{: .annotate }

1.  

    ```blueprint hl_lines="11"
    template $TextEditorWindow: Adw.ApplicationWindow {
      content: Adw.ToolbarView {
        [top]
        Adw.HeaderBar {
          [start]
          Button open_button { /* ... */ }

          [end]
          MenuButton {
            // ...
            menu-model: primary_menu;
          }
        }
        // ...
      };
    }
    ```

```blueprint title="window.blp (excerpt)"
--8<-- "includes/pygobject/builder/menu-shorthand-annotated.blp"
```

1.  

    ```py title="window.py (excerpt)"
    save_action = Gio.SimpleAction(name="save-as")
    save_action.connect("activate", self.save_file_dialog)
    self.add_action(save_action)
    ```

2.  

    ```py title="main.py (excerpt)"
    self.create_action('preferences', self.on_preferences_action)
    ```

3. ??

4.  

    ```py title="main.py (excerpt)"
    self.create_action('about', self.on_about_action) l
    ```


The template provided by Builder provides this `create_action()` method aiming to reduce complexity of adding actions.

```py title="main.py create_action(excerpt)"
def create_action(self, name, callback, shortcuts=None):
    """Add an application action.

    Args:
        name: the name of the action
        callback: the function to be called when the action is
          activated
        shortcuts: an optional list of accelerators
    """
    action = Gio.SimpleAction.new(name, None)
    action.connect("activate", callback)
    self.add_action(action)
    if shortcuts:
        self.set_accels_for_action(f"app.{name}", shortcuts)
```

Actions associated with "show-help-overlay" do not appear in code, although a separate UI definition file is available which must also be automatically processed somehow.

```blueprint
--8<-- "includes/pygobject/builder/help-overlay.blp"
```
