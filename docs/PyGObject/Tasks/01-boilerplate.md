# Boilerplate

--8<-- "includes/pygobject/links.md"

This boilerplate represents the minimum required, following canonical best practice, to create an [Application][Adw.Application] from a UI definition file following the [Builder][Gtk.Builder] pattern.

=== ":simple-python: Python"

    ```py
    --8<-- "includes/pygobject/01-boilerplate/main-annotated.py"
    ```

    1.  The main object of interest is the Application subclass, for which two choices of superclass are available, depending on the theming required:
        
        -   [`Gtk.Application`][Gtk.Application]
        -   [`Adw.Application`][Adw.Application] I'm still not entirely sure what Adwaita really is, but it seems to be the direction things are heading.

    2.  Separate, but deeply tied to the Application object is the [ApplicationWindow][Gtk.ApplicationWindow] object which must be instantiated and attached to the Application instance.
        When using the Builder pattern as shown here, it must be assigned using the [`set_application`](https://api.pygobject.gnome.org/Gtk-4.0/class-SingleSelection.html) method on the [GtkBuilder][Gtk.Builder] object. (1)
        {: .annotate }

        1.  

            ```py hl_lines="15" title="From Taiko's tutorial"
            --8<-- "includes/pygobject/taiko/03/builder.py"
            ```

        This can also be done procedurally by creating the ApplicationWindow in code and assigning the application inline. (1)
        {: .annotate }

        1.  

            ```py hl_lines="14" title="Example from PyGObject documentation"
            --8<-- "includes/pygobject/examples/pygobject-docs.py"
            ```


        Note that the ApplicationWindow does not **necessarily** have to be assigned to a property of the Application subclass (yet). (1)
        {: .annotate }

        1.  <div class="grid cards" markdown>

            ```py hl_lines="14" title="Example from PyGObject documentation"
            --8<-- "includes/pygobject/examples/pygobject-docs.py"
            ```
            
            ```py hl_lines="14" title="From Taiko's tutorial"
            --8<-- "includes/pygobject/taiko/03/builder.py"
            ```

            </div>


    3.  Some additional null-handling logic exists in some examples found in the wild (perhaps having to do with single-instancing), but is not strictly necessary.


    4.  Other important elements of the boilerplate:

        -   `application_id` (optional) can be provided inline on instantiation or as a kwarg in the constructor method. (1)
            When not provided, [application uniqueness](https://api.pygobject.gnome.org/Gtk-4.0/class-Application.html#gi.repository.Gtk.Application.new) is disabled.
            {: .annotate }

            1.  <div class="grid cards" markdown>


                ```py hl_lines="10" title="Example from PyGObject documentation"
                --8<-- "includes/pygobject/examples/pygobject-docs.py"
                ```


                ```py hl_lines="18" title="From Taiko's tutorial"
                --8<-- "includes/pygobject/taiko/03/builder.py"
                ```

                </div>

        -   `name` appears to be able to be defined **in code** only by using [`GLib.set_application_name`][GLib.set_application_name] (1)
            However it can (and probably should) be set in the UI definition.
            { .annotate }

            1.  <div class="grid cards" markdown>

                ```py hl_lines="11" title="Example from PyGObject documentation"
                --8<-- "includes/pygobject/examples/pygobject-docs.py"
                ```

                </div>

        -   Additional kwargs provided in the constructors of some Application subclasses found in the wild: (1)
            {: .annotate }

            1.  

                ```py hl_lines="5-7" title="Generated by Builder"
                --8<-- "includes/pygobject/builder/main-constructor.py"
                ```

            <!-- -->

            -   [`flags`](https://api.pygobject.gnome.org/Gtk-4.0/class-Application.html#gi.repository.Gtk.Application.new): [application flags](https://docs.gtk.org/gio/flags.ApplicationFlags.html)
            -   [`resource_base_path`](https://api.pygobject.gnome.org/Gio-2.0/class-Application.html#gi.repository.Gio.Application.props.resource_base_path): [base resource path](https://docs.gtk.org/gio/property.Application.resource-base-path.html) for the application

    5.  A previous version of this boilerplate used a custom handler for activate, which is unnecessary since the default handler `do_activate()` can be overriden.

        ```py hl_lines="7-9" title="Old boilerplate"
        --8<-- "includes/pygobject/01-boilerplate/main-custom-activate.py"
        ```

=== ":simple-vala: Vala"

    ```vala
    --8<-- "includes/vala/01-boilerplate/main.vala"
    ```

#### Using template


```py title="src/main.py"
--8<-- "includes/pygobject/22-template-boilerplate-adw/main.py"
```

```py title="src/template.py"
--8<-- "includes/pygobject/22-template-boilerplate-adw/template.py"
```

```blueprint title="src/template.blp"
--8<-- "includes/pygobject/22-template-boilerplate-adw/template.blp"
```

```xml title="src/gresources.xml"
--8<-- "includes/pygobject/22-template-boilerplate-adw/gresources.xml"
```

